"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/components/ImageCrop.tsx":
/*!**************************************!*\
  !*** ./app/components/ImageCrop.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageCrop: function() { return /* binding */ ImageCrop; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./app/components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Crop,RotateCcw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crop.js\");\n/* harmony import */ var _barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Crop,RotateCcw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _lib_image_crop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/image-crop */ \"(app-pages-browser)/./lib/image-crop.ts\");\n/* __next_internal_client_entry_do_not_use__ ImageCrop auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction ImageCrop(param) {\n    let { imageFile, imageUrl, onCropComplete, onCancel } = param;\n    _s();\n    const [crop, setCrop] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [dragMode, setDragMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeHandle, setActiveHandle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [startPos, setStartPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [startCrop, setStartCrop] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [imageSize, setImageSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [displaySize, setDisplaySize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cropBoxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const img = new Image();\n        img.onload = ()=>{\n            setImageSize({\n                width: img.width,\n                height: img.height\n            });\n        };\n        img.src = imageUrl;\n    }, [\n        imageUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const updateDisplaySize = ()=>{\n            if (imageRef.current) {\n                const rect = imageRef.current.getBoundingClientRect();\n                setDisplaySize({\n                    width: rect.width,\n                    height: rect.height\n                });\n            }\n        };\n        updateDisplaySize();\n        window.addEventListener(\"resize\", updateDisplaySize);\n        return ()=>window.removeEventListener(\"resize\", updateDisplaySize);\n    }, [\n        imageSize\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (displaySize && imageSize && !crop) {\n            // Set initial crop area to center 60% of image\n            const scaleX = displaySize.width / imageSize.width;\n            const scaleY = displaySize.height / imageSize.height;\n            const initialX = displaySize.width * 0.2;\n            const initialY = displaySize.height * 0.2;\n            const initialWidth = displaySize.width * 0.6;\n            const initialHeight = displaySize.height * 0.6;\n            setCrop({\n                x: initialX / scaleX,\n                y: initialY / scaleY,\n                width: initialWidth / scaleX,\n                height: initialHeight / scaleY\n            });\n        }\n    }, [\n        displaySize,\n        imageSize,\n        crop\n    ]);\n    // Convert display coordinates to image coordinates\n    const displayToImage = (displayX, displayY)=>{\n        if (!imageSize || !displaySize || !imageRef.current) return {\n            x: 0,\n            y: 0\n        };\n        const imgRect = imageRef.current.getBoundingClientRect();\n        const scaleX = imageSize.width / displaySize.width;\n        const scaleY = imageSize.height / displaySize.height;\n        const x = (displayX - imgRect.left) * scaleX;\n        const y = (displayY - imgRect.top) * scaleY;\n        return {\n            x,\n            y\n        };\n    };\n    // Clamp crop to image bounds\n    const clampCrop = (cropArea)=>{\n        if (!imageSize) return cropArea;\n        let { x, y, width, height } = cropArea;\n        // Ensure minimum size\n        width = Math.max(10, width);\n        height = Math.max(10, height);\n        // Clamp position and size to image bounds\n        x = Math.max(0, Math.min(x, imageSize.width - width));\n        y = Math.max(0, Math.min(y, imageSize.height - height));\n        width = Math.min(width, imageSize.width - x);\n        height = Math.min(height, imageSize.height - y);\n        return {\n            x,\n            y,\n            width,\n            height\n        };\n    };\n    const handlePointerDown = (e)=>{\n        if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n        e.preventDefault();\n        e.stopPropagation();\n        const imgRect = imageRef.current.getBoundingClientRect();\n        const displayX = e.clientX;\n        const displayY = e.clientY;\n        // Only allow interaction if click is on the image\n        if (displayX < imgRect.left || displayY < imgRect.top || displayX > imgRect.right || displayY > imgRect.bottom) return;\n        const imgPos = displayToImage(displayX, displayY);\n        const startImgPos = imgPos;\n        // Check if clicking on a resize handle\n        const handleSize = 12; // Hit area for handles in image coordinates\n        const scaleX = imageSize.width / displaySize.width;\n        const scaleY = imageSize.height / displaySize.height;\n        const handleSizeScaled = handleSize * Math.max(scaleX, scaleY);\n        const left = crop.x;\n        const right = crop.x + crop.width;\n        const top = crop.y;\n        const bottom = crop.y + crop.height;\n        let handle = null;\n        // Check corners\n        if (Math.abs(imgPos.x - left) < handleSizeScaled && Math.abs(imgPos.y - top) < handleSizeScaled) {\n            handle = \"top-left\";\n        } else if (Math.abs(imgPos.x - right) < handleSizeScaled && Math.abs(imgPos.y - top) < handleSizeScaled) {\n            handle = \"top-right\";\n        } else if (Math.abs(imgPos.x - left) < handleSizeScaled && Math.abs(imgPos.y - bottom) < handleSizeScaled) {\n            handle = \"bottom-left\";\n        } else if (Math.abs(imgPos.x - right) < handleSizeScaled && Math.abs(imgPos.y - bottom) < handleSizeScaled) {\n            handle = \"bottom-right\";\n        }\n        // Check if inside crop box\n        const isInside = imgPos.x >= left && imgPos.x <= right && imgPos.y >= top && imgPos.y <= bottom;\n        if (handle) {\n            setDragMode(\"resize\");\n            setActiveHandle(handle);\n        } else if (isInside) {\n            setDragMode(\"move\");\n            setActiveHandle(null);\n        } else {\n            return; // Clicked outside crop box\n        }\n        setStartPos(startImgPos);\n        setStartCrop({\n            ...crop\n        });\n        // Capture pointer on the crop box\n        if (cropBoxRef.current) {\n            try {\n                cropBoxRef.current.setPointerCapture(e.pointerId);\n            } catch (err) {\n                console.warn(\"setPointerCapture failed:\", err);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!dragMode || !startPos || !startCrop || !imageSize || !displaySize) return;\n        const handlePointerMove = (e)=>{\n            if (!imageRef.current) return;\n            e.preventDefault();\n            const imgRect = imageRef.current.getBoundingClientRect();\n            const displayX = Math.max(imgRect.left, Math.min(e.clientX, imgRect.right));\n            const displayY = Math.max(imgRect.top, Math.min(e.clientY, imgRect.bottom));\n            const currentImgPos = displayToImage(displayX, displayY);\n            const deltaX = currentImgPos.x - startPos.x;\n            const deltaY = currentImgPos.y - startPos.y;\n            let newCrop = {\n                ...startCrop\n            };\n            if (dragMode === \"move\") {\n                // Move the entire crop box\n                newCrop.x = startCrop.x + deltaX;\n                newCrop.y = startCrop.y + deltaY;\n            } else if (dragMode === \"resize\" && activeHandle) {\n                // Resize based on handle\n                switch(activeHandle){\n                    case \"top-left\":\n                        newCrop.x = startCrop.x + deltaX;\n                        newCrop.y = startCrop.y + deltaY;\n                        newCrop.width = startCrop.width - deltaX;\n                        newCrop.height = startCrop.height - deltaY;\n                        break;\n                    case \"top-right\":\n                        newCrop.y = startCrop.y + deltaY;\n                        newCrop.width = startCrop.width + deltaX;\n                        newCrop.height = startCrop.height - deltaY;\n                        break;\n                    case \"bottom-left\":\n                        newCrop.x = startCrop.x + deltaX;\n                        newCrop.width = startCrop.width - deltaX;\n                        newCrop.height = startCrop.height + deltaY;\n                        break;\n                    case \"bottom-right\":\n                        newCrop.width = startCrop.width + deltaX;\n                        newCrop.height = startCrop.height + deltaY;\n                        break;\n                }\n            }\n            // Clamp to image bounds\n            newCrop = clampCrop(newCrop);\n            setCrop(newCrop);\n        };\n        const handlePointerUp = (e)=>{\n            if (cropBoxRef.current) {\n                try {\n                    cropBoxRef.current.releasePointerCapture(e.pointerId);\n                } catch (err) {\n                // Ignore if already released\n                }\n            }\n            setDragMode(null);\n            setActiveHandle(null);\n            setStartPos(null);\n            setStartCrop(null);\n        };\n        window.addEventListener(\"pointermove\", handlePointerMove);\n        window.addEventListener(\"pointerup\", handlePointerUp);\n        window.addEventListener(\"pointercancel\", handlePointerUp);\n        return ()=>{\n            window.removeEventListener(\"pointermove\", handlePointerMove);\n            window.removeEventListener(\"pointerup\", handlePointerUp);\n            window.removeEventListener(\"pointercancel\", handlePointerUp);\n        };\n    }, [\n        dragMode,\n        startPos,\n        startCrop,\n        imageSize,\n        displaySize,\n        activeHandle\n    ]);\n    const handleCrop = async ()=>{\n        if (!crop || !imageSize) return;\n        // Validate crop area\n        if (crop.width < 10 || crop.height < 10) {\n            alert(\"Crop area too small. Please select a larger area.\");\n            return;\n        }\n        try {\n            const croppedFile = await (0,_lib_image_crop__WEBPACK_IMPORTED_MODULE_3__.cropImage)(imageFile, crop);\n            onCropComplete(croppedFile);\n        } catch (error) {\n            console.error(\"Crop error:\", error);\n            alert(\"Failed to crop image. Please try again.\");\n        }\n    };\n    const handleSearchFull = ()=>{\n        onCropComplete(imageFile);\n    };\n    if (!imageSize) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen w-full overflow-x-hidden flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center px-4\",\n                children: \"Loading image...\"\n            }, void 0, false, {\n                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                lineNumber: 270,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n            lineNumber: 269,\n            columnNumber: 7\n        }, this);\n    }\n    const getCursor = ()=>{\n        if (dragMode === \"move\") return \"move\";\n        if (dragMode === \"resize\") {\n            switch(activeHandle){\n                case \"top-left\":\n                case \"bottom-right\":\n                    return \"nwse-resize\";\n                case \"top-right\":\n                case \"bottom-left\":\n                    return \"nesw-resize\";\n                default:\n                    return \"default\";\n            }\n        }\n        return \"default\";\n    };\n    const scaleX = imageSize.width / ((displaySize === null || displaySize === void 0 ? void 0 : displaySize.width) || 1);\n    const scaleY = imageSize.height / ((displaySize === null || displaySize === void 0 ? void 0 : displaySize.height) || 1);\n    const cropDisplayX = crop ? crop.x / scaleX : 0;\n    const cropDisplayY = crop ? crop.y / scaleY : 0;\n    const cropDisplayWidth = crop ? crop.width / scaleX : 0;\n    const cropDisplayHeight = crop ? crop.height / scaleY : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen w-full overflow-x-hidden\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-[420px] mx-auto px-4 py-4 md:max-w-3xl md:px-6 md:py-24\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center space-y-2 mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl md:text-2xl font-bold tracking-tight\",\n                            children: \"Select Area to Search\"\n                        }, void 0, false, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 304,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs md:text-sm opacity-60\",\n                            children: \"Drag to move or resize the selection box\"\n                        }, void 0, false, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 305,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 303,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: containerRef,\n                    className: \"relative border-2 border-foreground/20 rounded-lg overflow-hidden bg-background crop-container w-full\",\n                    style: {\n                        maxHeight: \"70vh\",\n                        touchAction: \"none\",\n                        userSelect: \"none\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative w-full max-w-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                ref: imageRef,\n                                src: imageUrl,\n                                alt: \"Crop preview\",\n                                className: \"w-full h-auto object-contain max-h-[70vh]\",\n                                draggable: false,\n                                style: {\n                                    touchAction: \"none\",\n                                    pointerEvents: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 13\n                            }, this),\n                            crop && crop.width > 0 && crop.height > 0 && displaySize && imageSize && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 pointer-events-none\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 bg-black/50\",\n                                        style: {\n                                            clipPath: \"polygon(\\n                      0% 0%, \\n                      0% 100%, \\n                      \".concat(crop.x / imageSize.width * 100, \"% 100%, \\n                      \").concat(crop.x / imageSize.width * 100, \"% \").concat(crop.y / imageSize.height * 100, \"%, \\n                      \").concat((crop.x + crop.width) / imageSize.width * 100, \"% \").concat(crop.y / imageSize.height * 100, \"%, \\n                      \").concat((crop.x + crop.width) / imageSize.width * 100, \"% \").concat((crop.y + crop.height) / imageSize.height * 100, \"%, \\n                      \").concat(crop.x / imageSize.width * 100, \"% \").concat((crop.y + crop.height) / imageSize.height * 100, \"%, \\n                      \").concat(crop.x / imageSize.width * 100, \"% 100%, \\n                      100% 100%, \\n                      100% 0%\\n                    )\")\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                        lineNumber: 334,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: cropBoxRef,\n                                        className: \"absolute border-2 border-white shadow-lg pointer-events-auto\",\n                                        style: {\n                                            left: \"\".concat(cropDisplayX, \"px\"),\n                                            top: \"\".concat(cropDisplayY, \"px\"),\n                                            width: \"\".concat(cropDisplayWidth, \"px\"),\n                                            height: \"\".concat(cropDisplayHeight, \"px\"),\n                                            cursor: getCursor()\n                                        },\n                                        onPointerDown: handlePointerDown,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nwse-resize z-10\",\n                                                \"data-handle\": \"top-left\",\n                                                style: {\n                                                    top: -6,\n                                                    left: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    e.preventDefault();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"top-left\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (cropBoxRef.current) {\n                                                        cropBoxRef.current.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 366,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nesw-resize z-10\",\n                                                \"data-handle\": \"top-right\",\n                                                style: {\n                                                    top: -6,\n                                                    right: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    e.preventDefault();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"top-right\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (cropBoxRef.current) {\n                                                        cropBoxRef.current.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 384,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nesw-resize z-10\",\n                                                \"data-handle\": \"bottom-left\",\n                                                style: {\n                                                    bottom: -6,\n                                                    left: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    e.preventDefault();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"bottom-left\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (cropBoxRef.current) {\n                                                        cropBoxRef.current.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 402,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nwse-resize z-10\",\n                                                \"data-handle\": \"bottom-right\",\n                                                style: {\n                                                    bottom: -6,\n                                                    right: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    e.preventDefault();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"bottom-right\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (cropBoxRef.current) {\n                                                        cropBoxRef.current.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 420,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                        lineNumber: 353,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                        lineNumber: 320,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 311,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col sm:flex-row items-stretch sm:items-center justify-center gap-3 mt-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: handleCrop,\n                            disabled: !crop || crop.width < 10 || crop.height < 10,\n                            className: \"h-12 px-6 sm:px-8 text-xs tracking-[0.2em] uppercase flex-1 sm:flex-initial\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 451,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"hidden sm:inline\",\n                                    children: \"Search Selected Area\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 452,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"sm:hidden\",\n                                    children: \"Search Area\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 453,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: handleSearchFull,\n                            variant: \"outline\",\n                            className: \"h-12 px-6 sm:px-8 text-xs tracking-[0.2em] uppercase flex-1 sm:flex-initial\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"hidden sm:inline\",\n                                    children: \"Search Entire Image\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 461,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"sm:hidden\",\n                                    children: \"Full Image\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 462,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 456,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: onCancel,\n                            variant: \"ghost\",\n                            className: \"h-12 px-6 sm:px-8 text-xs tracking-[0.2em] uppercase flex-1 sm:flex-initial\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 13\n                                }, this),\n                                \"Cancel\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 465,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 445,\n                    columnNumber: 9\n                }, this),\n                crop && crop.width > 0 && crop.height > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center text-xs opacity-60\",\n                    children: [\n                        \"Selection: \",\n                        Math.round(crop.width * crop.height / (imageSize.width * imageSize.height) * 100),\n                        \"% of image\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 476,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n            lineNumber: 301,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n        lineNumber: 300,\n        columnNumber: 5\n    }, this);\n}\n_s(ImageCrop, \"21wz6816PGOb7T1Bhilf6qtqluE=\");\n_c = ImageCrop;\nvar _c;\n$RefreshReg$(_c, \"ImageCrop\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL0ltYWdlQ3JvcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUUyRDtBQUNYO0FBQ0Q7QUFDaUI7QUFZekQsU0FBU1EsVUFBVSxLQUFpRTtRQUFqRSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsY0FBYyxFQUFFQyxRQUFRLEVBQWtCLEdBQWpFOztJQUN4QixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR2IsK0NBQVFBLENBQWtCO0lBQ2xELE1BQU0sQ0FBQ2MsVUFBVUMsWUFBWSxHQUFHZiwrQ0FBUUEsQ0FBVztJQUNuRCxNQUFNLENBQUNnQixjQUFjQyxnQkFBZ0IsR0FBR2pCLCtDQUFRQSxDQUFpQjtJQUNqRSxNQUFNLENBQUNrQixVQUFVQyxZQUFZLEdBQUduQiwrQ0FBUUEsQ0FBa0M7SUFDMUUsTUFBTSxDQUFDb0IsV0FBV0MsYUFBYSxHQUFHckIsK0NBQVFBLENBQWtCO0lBQzVELE1BQU0sQ0FBQ3NCLFdBQVdDLGFBQWEsR0FBR3ZCLCtDQUFRQSxDQUEyQztJQUNyRixNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBMkM7SUFDekYsTUFBTTBCLFdBQVd6Qiw2Q0FBTUEsQ0FBbUI7SUFDMUMsTUFBTTBCLGVBQWUxQiw2Q0FBTUEsQ0FBaUI7SUFDNUMsTUFBTTJCLGFBQWEzQiw2Q0FBTUEsQ0FBaUI7SUFFMUNDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTJCLE1BQU0sSUFBSUM7UUFDaEJELElBQUlFLE1BQU0sR0FBRztZQUNYUixhQUFhO2dCQUFFUyxPQUFPSCxJQUFJRyxLQUFLO2dCQUFFQyxRQUFRSixJQUFJSSxNQUFNO1lBQUM7UUFDdEQ7UUFDQUosSUFBSUssR0FBRyxHQUFHekI7SUFDWixHQUFHO1FBQUNBO0tBQVM7SUFFYlAsZ0RBQVNBLENBQUM7UUFDUixNQUFNaUMsb0JBQW9CO1lBQ3hCLElBQUlULFNBQVNVLE9BQU8sRUFBRTtnQkFDcEIsTUFB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LDhEQUFDM0YseURBQU1BOzRCQUNMK0csU0FBU3ZHOzRCQUNUMEcsU0FBUTs0QkFDUnZCLFdBQVU7OzhDQUVWLDhEQUFDekYsMEZBQVNBO29DQUFDeUYsV0FBVTs7Ozs7O2dDQUFpQjs7Ozs7Ozs7Ozs7OztnQkFLekNsRixRQUFRQSxLQUFLb0IsS0FBSyxHQUFHLEtBQUtwQixLQUFLcUIsTUFBTSxHQUFHLG1CQUN2Qyw4REFBQzREO29CQUFJQyxXQUFVOzt3QkFBaUM7d0JBQ2xDcEMsS0FBSzRELEtBQUssQ0FBQyxLQUFNdEYsS0FBSyxHQUFHcEIsS0FBS3FCLE1BQU0sR0FBS1gsQ0FBQUEsVUFBVVUsS0FBSyxHQUFHVixVQUFVVyxNQUFNLElBQUk7d0JBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU01RztHQWpkZ0IxQjtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvY29tcG9uZW50cy9JbWFnZUNyb3AudHN4P2VmYzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IENyb3AsIFJvdGF0ZUNjdyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBjcm9wSW1hZ2UsIHR5cGUgQ3JvcEFyZWEgfSBmcm9tICcuLi8uLi9saWIvaW1hZ2UtY3JvcCc7XG5cbmludGVyZmFjZSBJbWFnZUNyb3BQcm9wcyB7XG4gIGltYWdlRmlsZTogRmlsZTtcbiAgaW1hZ2VVcmw6IHN0cmluZztcbiAgb25Dcm9wQ29tcGxldGU6IChjcm9wcGVkRmlsZTogRmlsZSkgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbnR5cGUgSGFuZGxlUG9zaXRpb24gPSAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCcgfCBudWxsO1xudHlwZSBEcmFnTW9kZSA9ICdtb3ZlJyB8ICdyZXNpemUnIHwgbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIEltYWdlQ3JvcCh7IGltYWdlRmlsZSwgaW1hZ2VVcmwsIG9uQ3JvcENvbXBsZXRlLCBvbkNhbmNlbCB9OiBJbWFnZUNyb3BQcm9wcykge1xuICBjb25zdCBbY3JvcCwgc2V0Q3JvcF0gPSB1c2VTdGF0ZTxDcm9wQXJlYSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZHJhZ01vZGUsIHNldERyYWdNb2RlXSA9IHVzZVN0YXRlPERyYWdNb2RlPihudWxsKTtcbiAgY29uc3QgW2FjdGl2ZUhhbmRsZSwgc2V0QWN0aXZlSGFuZGxlXSA9IHVzZVN0YXRlPEhhbmRsZVBvc2l0aW9uPihudWxsKTtcbiAgY29uc3QgW3N0YXJ0UG9zLCBzZXRTdGFydFBvc10gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3N0YXJ0Q3JvcCwgc2V0U3RhcnRDcm9wXSA9IHVzZVN0YXRlPENyb3BBcmVhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbWFnZVNpemUsIHNldEltYWdlU2l6ZV0gPSB1c2VTdGF0ZTx7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Rpc3BsYXlTaXplLCBzZXREaXNwbGF5U2l6ZV0gPSB1c2VTdGF0ZTx7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgaW1hZ2VSZWYgPSB1c2VSZWY8SFRNTEltYWdlRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNyb3BCb3hSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNldEltYWdlU2l6ZSh7IHdpZHRoOiBpbWcud2lkdGgsIGhlaWdodDogaW1nLmhlaWdodCB9KTtcbiAgICB9O1xuICAgIGltZy5zcmMgPSBpbWFnZVVybDtcbiAgfSwgW2ltYWdlVXJsXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVEaXNwbGF5U2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmIChpbWFnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBpbWFnZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXREaXNwbGF5U2l6ZSh7IHdpZHRoOiByZWN0LndpZHRoLCBoZWlnaHQ6IHJlY3QuaGVpZ2h0IH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGRhdGVEaXNwbGF5U2l6ZSgpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaXNwbGF5U2l6ZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVEaXNwbGF5U2l6ZSk7XG4gIH0sIFtpbWFnZVNpemVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkaXNwbGF5U2l6ZSAmJiBpbWFnZVNpemUgJiYgIWNyb3ApIHtcbiAgICAgIC8vIFNldCBpbml0aWFsIGNyb3AgYXJlYSB0byBjZW50ZXIgNjAlIG9mIGltYWdlXG4gICAgICBjb25zdCBzY2FsZVggPSBkaXNwbGF5U2l6ZS53aWR0aCAvIGltYWdlU2l6ZS53aWR0aDtcbiAgICAgIGNvbnN0IHNjYWxlWSA9IGRpc3BsYXlTaXplLmhlaWdodCAvIGltYWdlU2l6ZS5oZWlnaHQ7XG4gICAgICBjb25zdCBpbml0aWFsWCA9IGRpc3BsYXlTaXplLndpZHRoICogMC4yO1xuICAgICAgY29uc3QgaW5pdGlhbFkgPSBkaXNwbGF5U2l6ZS5oZWlnaHQgKiAwLjI7XG4gICAgICBjb25zdCBpbml0aWFsV2lkdGggPSBkaXNwbGF5U2l6ZS53aWR0aCAqIDAuNjtcbiAgICAgIGNvbnN0IGluaXRpYWxIZWlnaHQgPSBkaXNwbGF5U2l6ZS5oZWlnaHQgKiAwLjY7XG4gICAgICBcbiAgICAgIHNldENyb3Aoe1xuICAgICAgICB4OiBpbml0aWFsWCAvIHNjYWxlWCxcbiAgICAgICAgeTogaW5pdGlhbFkgLyBzY2FsZVksXG4gICAgICAgIHdpZHRoOiBpbml0aWFsV2lkdGggLyBzY2FsZVgsXG4gICAgICAgIGhlaWdodDogaW5pdGlhbEhlaWdodCAvIHNjYWxlWSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2Rpc3BsYXlTaXplLCBpbWFnZVNpemUsIGNyb3BdKTtcblxuICAvLyBDb252ZXJ0IGRpc3BsYXkgY29vcmRpbmF0ZXMgdG8gaW1hZ2UgY29vcmRpbmF0ZXNcbiAgY29uc3QgZGlzcGxheVRvSW1hZ2UgPSAoZGlzcGxheVg6IG51bWJlciwgZGlzcGxheVk6IG51bWJlcik6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSA9PiB7XG4gICAgaWYgKCFpbWFnZVNpemUgfHwgIWRpc3BsYXlTaXplIHx8ICFpbWFnZVJlZi5jdXJyZW50KSByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgY29uc3QgaW1nUmVjdCA9IGltYWdlUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgc2NhbGVYID0gaW1hZ2VTaXplLndpZHRoIC8gZGlzcGxheVNpemUud2lkdGg7XG4gICAgY29uc3Qgc2NhbGVZID0gaW1hZ2VTaXplLmhlaWdodCAvIGRpc3BsYXlTaXplLmhlaWdodDtcbiAgICBjb25zdCB4ID0gKGRpc3BsYXlYIC0gaW1nUmVjdC5sZWZ0KSAqIHNjYWxlWDtcbiAgICBjb25zdCB5ID0gKGRpc3BsYXlZIC0gaW1nUmVjdC50b3ApICogc2NhbGVZO1xuICAgIHJldHVybiB7IHgsIHkgfTtcbiAgfTtcblxuICAvLyBDbGFtcCBjcm9wIHRvIGltYWdlIGJvdW5kc1xuICBjb25zdCBjbGFtcENyb3AgPSAoY3JvcEFyZWE6IENyb3BBcmVhKTogQ3JvcEFyZWEgPT4ge1xuICAgIGlmICghaW1hZ2VTaXplKSByZXR1cm4gY3JvcEFyZWE7XG4gICAgXG4gICAgbGV0IHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9ID0gY3JvcEFyZWE7XG4gICAgXG4gICAgLy8gRW5zdXJlIG1pbmltdW0gc2l6ZVxuICAgIHdpZHRoID0gTWF0aC5tYXgoMTAsIHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLm1heCgxMCwgaGVpZ2h0KTtcbiAgICBcbiAgICAvLyBDbGFtcCBwb3NpdGlvbiBhbmQgc2l6ZSB0byBpbWFnZSBib3VuZHNcbiAgICB4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oeCwgaW1hZ2VTaXplLndpZHRoIC0gd2lkdGgpKTtcbiAgICB5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oeSwgaW1hZ2VTaXplLmhlaWdodCAtIGhlaWdodCkpO1xuICAgIHdpZHRoID0gTWF0aC5taW4od2lkdGgsIGltYWdlU2l6ZS53aWR0aCAtIHgpO1xuICAgIGhlaWdodCA9IE1hdGgubWluKGhlaWdodCwgaW1hZ2VTaXplLmhlaWdodCAtIHkpO1xuICAgIFxuICAgIHJldHVybiB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChlOiBSZWFjdC5Qb2ludGVyRXZlbnQpID0+IHtcbiAgICBpZiAoIWltYWdlUmVmLmN1cnJlbnQgfHwgIWRpc3BsYXlTaXplIHx8ICFpbWFnZVNpemUgfHwgIWNyb3ApIHJldHVybjtcbiAgICBcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBcbiAgICBjb25zdCBpbWdSZWN0ID0gaW1hZ2VSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBkaXNwbGF5WCA9IGUuY2xpZW50WDtcbiAgICBjb25zdCBkaXNwbGF5WSA9IGUuY2xpZW50WTtcbiAgICBcbiAgICAvLyBPbmx5IGFsbG93IGludGVyYWN0aW9uIGlmIGNsaWNrIGlzIG9uIHRoZSBpbWFnZVxuICAgIGlmIChkaXNwbGF5WCA8IGltZ1JlY3QubGVmdCB8fCBkaXNwbGF5WSA8IGltZ1JlY3QudG9wIHx8IFxuICAgICAgICBkaXNwbGF5WCA+IGltZ1JlY3QucmlnaHQgfHwgZGlzcGxheVkgPiBpbWdSZWN0LmJvdHRvbSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGltZ1BvcyA9IGRpc3BsYXlUb0ltYWdlKGRpc3BsYXlYLCBkaXNwbGF5WSk7XG4gICAgY29uc3Qgc3RhcnRJbWdQb3MgPSBpbWdQb3M7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgY2xpY2tpbmcgb24gYSByZXNpemUgaGFuZGxlXG4gICAgY29uc3QgaGFuZGxlU2l6ZSA9IDEyOyAvLyBIaXQgYXJlYSBmb3IgaGFuZGxlcyBpbiBpbWFnZSBjb29yZGluYXRlc1xuICAgIGNvbnN0IHNjYWxlWCA9IGltYWdlU2l6ZS53aWR0aCAvIGRpc3BsYXlTaXplLndpZHRoO1xuICAgIGNvbnN0IHNjYWxlWSA9IGltYWdlU2l6ZS5oZWlnaHQgLyBkaXNwbGF5U2l6ZS5oZWlnaHQ7XG4gICAgY29uc3QgaGFuZGxlU2l6ZVNjYWxlZCA9IGhhbmRsZVNpemUgKiBNYXRoLm1heChzY2FsZVgsIHNjYWxlWSk7XG4gICAgXG4gICAgY29uc3QgbGVmdCA9IGNyb3AueDtcbiAgICBjb25zdCByaWdodCA9IGNyb3AueCArIGNyb3Aud2lkdGg7XG4gICAgY29uc3QgdG9wID0gY3JvcC55O1xuICAgIGNvbnN0IGJvdHRvbSA9IGNyb3AueSArIGNyb3AuaGVpZ2h0O1xuICAgIFxuICAgIGxldCBoYW5kbGU6IEhhbmRsZVBvc2l0aW9uID0gbnVsbDtcbiAgICBcbiAgICAvLyBDaGVjayBjb3JuZXJzXG4gICAgaWYgKE1hdGguYWJzKGltZ1Bvcy54IC0gbGVmdCkgPCBoYW5kbGVTaXplU2NhbGVkICYmIE1hdGguYWJzKGltZ1Bvcy55IC0gdG9wKSA8IGhhbmRsZVNpemVTY2FsZWQpIHtcbiAgICAgIGhhbmRsZSA9ICd0b3AtbGVmdCc7XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbWdQb3MueCAtIHJpZ2h0KSA8IGhhbmRsZVNpemVTY2FsZWQgJiYgTWF0aC5hYnMoaW1nUG9zLnkgLSB0b3ApIDwgaGFuZGxlU2l6ZVNjYWxlZCkge1xuICAgICAgaGFuZGxlID0gJ3RvcC1yaWdodCc7XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbWdQb3MueCAtIGxlZnQpIDwgaGFuZGxlU2l6ZVNjYWxlZCAmJiBNYXRoLmFicyhpbWdQb3MueSAtIGJvdHRvbSkgPCBoYW5kbGVTaXplU2NhbGVkKSB7XG4gICAgICBoYW5kbGUgPSAnYm90dG9tLWxlZnQnO1xuICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW1nUG9zLnggLSByaWdodCkgPCBoYW5kbGVTaXplU2NhbGVkICYmIE1hdGguYWJzKGltZ1Bvcy55IC0gYm90dG9tKSA8IGhhbmRsZVNpemVTY2FsZWQpIHtcbiAgICAgIGhhbmRsZSA9ICdib3R0b20tcmlnaHQnO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBpbnNpZGUgY3JvcCBib3hcbiAgICBjb25zdCBpc0luc2lkZSA9IGltZ1Bvcy54ID49IGxlZnQgJiYgaW1nUG9zLnggPD0gcmlnaHQgJiYgaW1nUG9zLnkgPj0gdG9wICYmIGltZ1Bvcy55IDw9IGJvdHRvbTtcbiAgICBcbiAgICBpZiAoaGFuZGxlKSB7XG4gICAgICBzZXREcmFnTW9kZSgncmVzaXplJyk7XG4gICAgICBzZXRBY3RpdmVIYW5kbGUoaGFuZGxlKTtcbiAgICB9IGVsc2UgaWYgKGlzSW5zaWRlKSB7XG4gICAgICBzZXREcmFnTW9kZSgnbW92ZScpO1xuICAgICAgc2V0QWN0aXZlSGFuZGxlKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47IC8vIENsaWNrZWQgb3V0c2lkZSBjcm9wIGJveFxuICAgIH1cbiAgICBcbiAgICBzZXRTdGFydFBvcyhzdGFydEltZ1Bvcyk7XG4gICAgc2V0U3RhcnRDcm9wKHsgLi4uY3JvcCB9KTtcbiAgICBcbiAgICAvLyBDYXB0dXJlIHBvaW50ZXIgb24gdGhlIGNyb3AgYm94XG4gICAgaWYgKGNyb3BCb3hSZWYuY3VycmVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY3JvcEJveFJlZi5jdXJyZW50LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3NldFBvaW50ZXJDYXB0dXJlIGZhaWxlZDonLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZHJhZ01vZGUgfHwgIXN0YXJ0UG9zIHx8ICFzdGFydENyb3AgfHwgIWltYWdlU2l6ZSB8fCAhZGlzcGxheVNpemUpIHJldHVybjtcblxuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKCFpbWFnZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW1nUmVjdCA9IGltYWdlUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBkaXNwbGF5WCA9IE1hdGgubWF4KGltZ1JlY3QubGVmdCwgTWF0aC5taW4oZS5jbGllbnRYLCBpbWdSZWN0LnJpZ2h0KSk7XG4gICAgICBjb25zdCBkaXNwbGF5WSA9IE1hdGgubWF4KGltZ1JlY3QudG9wLCBNYXRoLm1pbihlLmNsaWVudFksIGltZ1JlY3QuYm90dG9tKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGN1cnJlbnRJbWdQb3MgPSBkaXNwbGF5VG9JbWFnZShkaXNwbGF5WCwgZGlzcGxheVkpO1xuICAgICAgY29uc3QgZGVsdGFYID0gY3VycmVudEltZ1Bvcy54IC0gc3RhcnRQb3MueDtcbiAgICAgIGNvbnN0IGRlbHRhWSA9IGN1cnJlbnRJbWdQb3MueSAtIHN0YXJ0UG9zLnk7XG4gICAgICBcbiAgICAgIGxldCBuZXdDcm9wOiBDcm9wQXJlYSA9IHsgLi4uc3RhcnRDcm9wIH07XG4gICAgICBcbiAgICAgIGlmIChkcmFnTW9kZSA9PT0gJ21vdmUnKSB7XG4gICAgICAgIC8vIE1vdmUgdGhlIGVudGlyZSBjcm9wIGJveFxuICAgICAgICBuZXdDcm9wLnggPSBzdGFydENyb3AueCArIGRlbHRhWDtcbiAgICAgICAgbmV3Q3JvcC55ID0gc3RhcnRDcm9wLnkgKyBkZWx0YVk7XG4gICAgICB9IGVsc2UgaWYgKGRyYWdNb2RlID09PSAncmVzaXplJyAmJiBhY3RpdmVIYW5kbGUpIHtcbiAgICAgICAgLy8gUmVzaXplIGJhc2VkIG9uIGhhbmRsZVxuICAgICAgICBzd2l0Y2ggKGFjdGl2ZUhhbmRsZSkge1xuICAgICAgICAgIGNhc2UgJ3RvcC1sZWZ0JzpcbiAgICAgICAgICAgIG5ld0Nyb3AueCA9IHN0YXJ0Q3JvcC54ICsgZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC55ID0gc3RhcnRDcm9wLnkgKyBkZWx0YVk7XG4gICAgICAgICAgICBuZXdDcm9wLndpZHRoID0gc3RhcnRDcm9wLndpZHRoIC0gZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC5oZWlnaHQgPSBzdGFydENyb3AuaGVpZ2h0IC0gZGVsdGFZO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndG9wLXJpZ2h0JzpcbiAgICAgICAgICAgIG5ld0Nyb3AueSA9IHN0YXJ0Q3JvcC55ICsgZGVsdGFZO1xuICAgICAgICAgICAgbmV3Q3JvcC53aWR0aCA9IHN0YXJ0Q3JvcC53aWR0aCArIGRlbHRhWDtcbiAgICAgICAgICAgIG5ld0Nyb3AuaGVpZ2h0ID0gc3RhcnRDcm9wLmhlaWdodCAtIGRlbHRhWTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcbiAgICAgICAgICAgIG5ld0Nyb3AueCA9IHN0YXJ0Q3JvcC54ICsgZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC53aWR0aCA9IHN0YXJ0Q3JvcC53aWR0aCAtIGRlbHRhWDtcbiAgICAgICAgICAgIG5ld0Nyb3AuaGVpZ2h0ID0gc3RhcnRDcm9wLmhlaWdodCArIGRlbHRhWTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6XG4gICAgICAgICAgICBuZXdDcm9wLndpZHRoID0gc3RhcnRDcm9wLndpZHRoICsgZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC5oZWlnaHQgPSBzdGFydENyb3AuaGVpZ2h0ICsgZGVsdGFZO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xhbXAgdG8gaW1hZ2UgYm91bmRzXG4gICAgICBuZXdDcm9wID0gY2xhbXBDcm9wKG5ld0Nyb3ApO1xuICAgICAgc2V0Q3JvcChuZXdDcm9wKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKGNyb3BCb3hSZWYuY3VycmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNyb3BCb3hSZWYuY3VycmVudC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgaWYgYWxyZWFkeSByZWxlYXNlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXREcmFnTW9kZShudWxsKTtcbiAgICAgIHNldEFjdGl2ZUhhbmRsZShudWxsKTtcbiAgICAgIHNldFN0YXJ0UG9zKG51bGwpO1xuICAgICAgc2V0U3RhcnRDcm9wKG51bGwpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBoYW5kbGVQb2ludGVyVXApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXApO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBoYW5kbGVQb2ludGVyVXApO1xuICAgIH07XG4gIH0sIFtkcmFnTW9kZSwgc3RhcnRQb3MsIHN0YXJ0Q3JvcCwgaW1hZ2VTaXplLCBkaXNwbGF5U2l6ZSwgYWN0aXZlSGFuZGxlXSk7XG5cbiAgY29uc3QgaGFuZGxlQ3JvcCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNyb3AgfHwgIWltYWdlU2l6ZSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGNyb3AgYXJlYVxuICAgIGlmIChjcm9wLndpZHRoIDwgMTAgfHwgY3JvcC5oZWlnaHQgPCAxMCkge1xuICAgICAgYWxlcnQoJ0Nyb3AgYXJlYSB0b28gc21hbGwuIFBsZWFzZSBzZWxlY3QgYSBsYXJnZXIgYXJlYS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNyb3BwZWRGaWxlID0gYXdhaXQgY3JvcEltYWdlKGltYWdlRmlsZSwgY3JvcCk7XG4gICAgICBvbkNyb3BDb21wbGV0ZShjcm9wcGVkRmlsZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nyb3AgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBjcm9wIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWFyY2hGdWxsID0gKCkgPT4ge1xuICAgIG9uQ3JvcENvbXBsZXRlKGltYWdlRmlsZSk7XG4gIH07XG5cbiAgaWYgKCFpbWFnZVNpemUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gdy1mdWxsIG92ZXJmbG93LXgtaGlkZGVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHgtNFwiPkxvYWRpbmcgaW1hZ2UuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBnZXRDdXJzb3IgPSAoKTogc3RyaW5nID0+IHtcbiAgICBpZiAoZHJhZ01vZGUgPT09ICdtb3ZlJykgcmV0dXJuICdtb3ZlJztcbiAgICBpZiAoZHJhZ01vZGUgPT09ICdyZXNpemUnKSB7XG4gICAgICBzd2l0Y2ggKGFjdGl2ZUhhbmRsZSkge1xuICAgICAgICBjYXNlICd0b3AtbGVmdCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6XG4gICAgICAgICAgcmV0dXJuICdud3NlLXJlc2l6ZSc7XG4gICAgICAgIGNhc2UgJ3RvcC1yaWdodCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcbiAgICAgICAgICByZXR1cm4gJ25lc3ctcmVzaXplJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICB9O1xuXG4gIGNvbnN0IHNjYWxlWCA9IGltYWdlU2l6ZS53aWR0aCAvIChkaXNwbGF5U2l6ZT8ud2lkdGggfHwgMSk7XG4gIGNvbnN0IHNjYWxlWSA9IGltYWdlU2l6ZS5oZWlnaHQgLyAoZGlzcGxheVNpemU/LmhlaWdodCB8fCAxKTtcbiAgY29uc3QgY3JvcERpc3BsYXlYID0gY3JvcCA/IChjcm9wLnggLyBzY2FsZVgpIDogMDtcbiAgY29uc3QgY3JvcERpc3BsYXlZID0gY3JvcCA/IChjcm9wLnkgLyBzY2FsZVkpIDogMDtcbiAgY29uc3QgY3JvcERpc3BsYXlXaWR0aCA9IGNyb3AgPyAoY3JvcC53aWR0aCAvIHNjYWxlWCkgOiAwO1xuICBjb25zdCBjcm9wRGlzcGxheUhlaWdodCA9IGNyb3AgPyAoY3JvcC5oZWlnaHQgLyBzY2FsZVkpIDogMDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHctZnVsbCBvdmVyZmxvdy14LWhpZGRlblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctWzQyMHB4XSBteC1hdXRvIHB4LTQgcHktNCBtZDptYXgtdy0zeGwgbWQ6cHgtNiBtZDpweS0yNFwiPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktMiBtYi02XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgbWQ6dGV4dC0yeGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0XCI+U2VsZWN0IEFyZWEgdG8gU2VhcmNoPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG1kOnRleHQtc20gb3BhY2l0eS02MFwiPlxuICAgICAgICAgICAgRHJhZyB0byBtb3ZlIG9yIHJlc2l6ZSB0aGUgc2VsZWN0aW9uIGJveFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIENyb3AgQ29udGFpbmVyICovfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgYm9yZGVyLTIgYm9yZGVyLWZvcmVncm91bmQvMjAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYmctYmFja2dyb3VuZCBjcm9wLWNvbnRhaW5lciB3LWZ1bGxcIlxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiAnNzB2aCcsXG4gICAgICAgICAgICB0b3VjaEFjdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBtYXgtdy1mdWxsXCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHJlZj17aW1hZ2VSZWZ9XG4gICAgICAgICAgICAgIHNyYz17aW1hZ2VVcmx9XG4gICAgICAgICAgICAgIGFsdD1cIkNyb3AgcHJldmlld1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWF1dG8gb2JqZWN0LWNvbnRhaW4gbWF4LWgtWzcwdmhdXCJcbiAgICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgdG91Y2hBY3Rpb246ICdub25lJywgcG9pbnRlckV2ZW50czogJ2F1dG8nIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQ3JvcCBPdmVybGF5ICovfVxuICAgICAgICAgICAge2Nyb3AgJiYgY3JvcC53aWR0aCA+IDAgJiYgY3JvcC5oZWlnaHQgPiAwICYmIGRpc3BsYXlTaXplICYmIGltYWdlU2l6ZSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgey8qIERhcmsgb3ZlcmxheSBjb3ZlcmluZyBlbnRpcmUgaW1hZ2UgKi99XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay81MFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBjbGlwUGF0aDogYHBvbHlnb24oXG4gICAgICAgICAgICAgICAgICAgICAgMCUgMCUsIFxuICAgICAgICAgICAgICAgICAgICAgIDAlIDEwMCUsIFxuICAgICAgICAgICAgICAgICAgICAgICR7KGNyb3AueCAvIGltYWdlU2l6ZS53aWR0aCkgKiAxMDB9JSAxMDAlLCBcbiAgICAgICAgICAgICAgICAgICAgICAkeyhjcm9wLnggLyBpbWFnZVNpemUud2lkdGgpICogMTAwfSUgJHsoY3JvcC55IC8gaW1hZ2VTaXplLmhlaWdodCkgKiAxMDB9JSwgXG4gICAgICAgICAgICAgICAgICAgICAgJHsoKGNyb3AueCArIGNyb3Aud2lkdGgpIC8gaW1hZ2VTaXplLndpZHRoKSAqIDEwMH0lICR7KGNyb3AueSAvIGltYWdlU2l6ZS5oZWlnaHQpICogMTAwfSUsIFxuICAgICAgICAgICAgICAgICAgICAgICR7KChjcm9wLnggKyBjcm9wLndpZHRoKSAvIGltYWdlU2l6ZS53aWR0aCkgKiAxMDB9JSAkeygoY3JvcC55ICsgY3JvcC5oZWlnaHQpIC8gaW1hZ2VTaXplLmhlaWdodCkgKiAxMDB9JSwgXG4gICAgICAgICAgICAgICAgICAgICAgJHsoY3JvcC54IC8gaW1hZ2VTaXplLndpZHRoKSAqIDEwMH0lICR7KChjcm9wLnkgKyBjcm9wLmhlaWdodCkgLyBpbWFnZVNpemUuaGVpZ2h0KSAqIDEwMH0lLCBcbiAgICAgICAgICAgICAgICAgICAgICAkeyhjcm9wLnggLyBpbWFnZVNpemUud2lkdGgpICogMTAwfSUgMTAwJSwgXG4gICAgICAgICAgICAgICAgICAgICAgMTAwJSAxMDAlLCBcbiAgICAgICAgICAgICAgICAgICAgICAxMDAlIDAlXG4gICAgICAgICAgICAgICAgICAgIClgLFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBDcm9wIGJvcmRlciB3aXRoIGhhbmRsZXMgKi99XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgcmVmPXtjcm9wQm94UmVmfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIHNoYWRvdy1sZyBwb2ludGVyLWV2ZW50cy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGAke2Nyb3BEaXNwbGF5WH1weGAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogYCR7Y3JvcERpc3BsYXlZfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke2Nyb3BEaXNwbGF5V2lkdGh9cHhgLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke2Nyb3BEaXNwbGF5SGVpZ2h0fXB4YCxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBnZXRDdXJzb3IoKSxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvblBvaW50ZXJEb3duPXtoYW5kbGVQb2ludGVyRG93bn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7LyogQ29ybmVyIHJlc2l6ZSBoYW5kbGVzICovfVxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTMgaC0zIGJnLXdoaXRlIGJvcmRlciBib3JkZXItYmxhY2sgcm91bmRlZC1mdWxsIGN1cnNvci1ud3NlLXJlc2l6ZSB6LTEwXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1oYW5kbGU9XCJ0b3AtbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHRvcDogLTYsIGxlZnQ6IC02IH19XG4gICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZVJlZi5jdXJyZW50IHx8ICFkaXNwbGF5U2l6ZSB8fCAhaW1hZ2VTaXplIHx8ICFjcm9wKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nUG9zID0gZGlzcGxheVRvSW1hZ2UoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdNb2RlKCdyZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVIYW5kbGUoJ3RvcC1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnRQb3MoaW1nUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGFydENyb3AoeyAuLi5jcm9wIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChjcm9wQm94UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3BCb3hSZWYuY3VycmVudC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy0zIGgtMyBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWJsYWNrIHJvdW5kZWQtZnVsbCBjdXJzb3ItbmVzdy1yZXNpemUgei0xMFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtaGFuZGxlPVwidG9wLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgdG9wOiAtNiwgcmlnaHQ6IC02IH19XG4gICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZVJlZi5jdXJyZW50IHx8ICFkaXNwbGF5U2l6ZSB8fCAhaW1hZ2VTaXplIHx8ICFjcm9wKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nUG9zID0gZGlzcGxheVRvSW1hZ2UoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdNb2RlKCdyZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVIYW5kbGUoJ3RvcC1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXJ0UG9zKGltZ1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnRDcm9wKHsgLi4uY3JvcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JvcEJveFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9wQm94UmVmLmN1cnJlbnQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHctMyBoLTMgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ibGFjayByb3VuZGVkLWZ1bGwgY3Vyc29yLW5lc3ctcmVzaXplIHotMTBcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWhhbmRsZT1cImJvdHRvbS1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYm90dG9tOiAtNiwgbGVmdDogLTYgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltYWdlUmVmLmN1cnJlbnQgfHwgIWRpc3BsYXlTaXplIHx8ICFpbWFnZVNpemUgfHwgIWNyb3ApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdQb3MgPSBkaXNwbGF5VG9JbWFnZShlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0RHJhZ01vZGUoJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUhhbmRsZSgnYm90dG9tLWxlZnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGFydFBvcyhpbWdQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXJ0Q3JvcCh7IC4uLmNyb3AgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3BCb3hSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JvcEJveFJlZi5jdXJyZW50LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTMgaC0zIGJnLXdoaXRlIGJvcmRlciBib3JkZXItYmxhY2sgcm91bmRlZC1mdWxsIGN1cnNvci1ud3NlLXJlc2l6ZSB6LTEwXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1oYW5kbGU9XCJib3R0b20tcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBib3R0b206IC02LCByaWdodDogLTYgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltYWdlUmVmLmN1cnJlbnQgfHwgIWRpc3BsYXlTaXplIHx8ICFpbWFnZVNpemUgfHwgIWNyb3ApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdQb3MgPSBkaXNwbGF5VG9JbWFnZShlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0RHJhZ01vZGUoJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUhhbmRsZSgnYm90dG9tLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnRQb3MoaW1nUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGFydENyb3AoeyAuLi5jcm9wIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChjcm9wQm94UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3BCb3hSZWYuY3VycmVudC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogQ29udHJvbHMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBpdGVtcy1zdHJldGNoIHNtOml0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyBtdC02XCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JvcH1cbiAgICAgICAgICAgIGRpc2FibGVkPXshY3JvcCB8fCBjcm9wLndpZHRoIDwgMTAgfHwgY3JvcC5oZWlnaHQgPCAxMH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTIgcHgtNiBzbTpweC04IHRleHQteHMgdHJhY2tpbmctWzAuMmVtXSB1cHBlcmNhc2UgZmxleC0xIHNtOmZsZXgtaW5pdGlhbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENyb3AgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5TZWFyY2ggU2VsZWN0ZWQgQXJlYTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPlNlYXJjaCBBcmVhPC9zcGFuPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaEZ1bGx9XG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIHB4LTYgc206cHgtOCB0ZXh0LXhzIHRyYWNraW5nLVswLjJlbV0gdXBwZXJjYXNlIGZsZXgtMSBzbTpmbGV4LWluaXRpYWxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5TZWFyY2ggRW50aXJlIEltYWdlPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic206aGlkZGVuXCI+RnVsbCBJbWFnZTwvc3Bhbj5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIHB4LTYgc206cHgtOCB0ZXh0LXhzIHRyYWNraW5nLVswLjJlbV0gdXBwZXJjYXNlIGZsZXgtMSBzbTpmbGV4LWluaXRpYWxcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxSb3RhdGVDY3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Y3JvcCAmJiBjcm9wLndpZHRoID4gMCAmJiBjcm9wLmhlaWdodCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC14cyBvcGFjaXR5LTYwXCI+XG4gICAgICAgICAgICBTZWxlY3Rpb246IHtNYXRoLnJvdW5kKChjcm9wLndpZHRoICogY3JvcC5oZWlnaHQpIC8gKGltYWdlU2l6ZS53aWR0aCAqIGltYWdlU2l6ZS5oZWlnaHQpICogMTAwKX0lIG9mIGltYWdlXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiQnV0dG9uIiwiQ3JvcCIsIlJvdGF0ZUNjdyIsImNyb3BJbWFnZSIsIkltYWdlQ3JvcCIsImltYWdlRmlsZSIsImltYWdlVXJsIiwib25Dcm9wQ29tcGxldGUiLCJvbkNhbmNlbCIsImNyb3AiLCJzZXRDcm9wIiwiZHJhZ01vZGUiLCJzZXREcmFnTW9kZSIsImFjdGl2ZUhhbmRsZSIsInNldEFjdGl2ZUhhbmRsZSIsInN0YXJ0UG9zIiwic2V0U3RhcnRQb3MiLCJzdGFydENyb3AiLCJzZXRTdGFydENyb3AiLCJpbWFnZVNpemUiLCJzZXRJbWFnZVNpemUiLCJkaXNwbGF5U2l6ZSIsInNldERpc3BsYXlTaXplIiwiaW1hZ2VSZWYiLCJjb250YWluZXJSZWYiLCJjcm9wQm94UmVmIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJ3aWR0aCIsImhlaWdodCIsInNyYyIsInVwZGF0ZURpc3BsYXlTaXplIiwiY3VycmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNjYWxlWCIsInNjYWxlWSIsImluaXRpYWxYIiwiaW5pdGlhbFkiLCJpbml0aWFsV2lkdGgiLCJpbml0aWFsSGVpZ2h0IiwieCIsInkiLCJkaXNwbGF5VG9JbWFnZSIsImRpc3BsYXlYIiwiZGlzcGxheVkiLCJpbWdSZWN0IiwibGVmdCIsInRvcCIsImNsYW1wQ3JvcCIsImNyb3BBcmVhIiwiTWF0aCIsIm1heCIsIm1pbiIsImhhbmRsZVBvaW50ZXJEb3duIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJyaWdodCIsImJvdHRvbSIsImltZ1BvcyIsInN0YXJ0SW1nUG9zIiwiaGFuZGxlU2l6ZSIsImhhbmRsZVNpemVTY2FsZWQiLCJoYW5kbGUiLCJhYnMiLCJpc0luc2lkZSIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJoYW5kbGVQb2ludGVyTW92ZSIsImN1cnJlbnRJbWdQb3MiLCJkZWx0YVgiLCJkZWx0YVkiLCJuZXdDcm9wIiwiaGFuZGxlUG9pbnRlclVwIiwicmVsZWFzZVBvaW50ZXJDYXB0dXJlIiwiaGFuZGxlQ3JvcCIsImFsZXJ0IiwiY3JvcHBlZEZpbGUiLCJlcnJvciIsImhhbmRsZVNlYXJjaEZ1bGwiLCJkaXYiLCJjbGFzc05hbWUiLCJnZXRDdXJzb3IiLCJjcm9wRGlzcGxheVgiLCJjcm9wRGlzcGxheVkiLCJjcm9wRGlzcGxheVdpZHRoIiwiY3JvcERpc3BsYXlIZWlnaHQiLCJoMiIsInAiLCJyZWYiLCJzdHlsZSIsIm1heEhlaWdodCIsInRvdWNoQWN0aW9uIiwidXNlclNlbGVjdCIsImFsdCIsImRyYWdnYWJsZSIsInBvaW50ZXJFdmVudHMiLCJjbGlwUGF0aCIsImN1cnNvciIsIm9uUG9pbnRlckRvd24iLCJkYXRhLWhhbmRsZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInNwYW4iLCJ2YXJpYW50Iiwicm91bmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/ImageCrop.tsx\n"));

/***/ })

});