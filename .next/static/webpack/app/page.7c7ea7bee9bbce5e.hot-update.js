"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/components/ImageCrop.tsx":
/*!**************************************!*\
  !*** ./app/components/ImageCrop.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageCrop: function() { return /* binding */ ImageCrop; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./app/components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Crop,RotateCcw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crop.js\");\n/* harmony import */ var _barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Crop,RotateCcw!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _lib_image_crop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/image-crop */ \"(app-pages-browser)/./lib/image-crop.ts\");\n/* __next_internal_client_entry_do_not_use__ ImageCrop auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction ImageCrop(param) {\n    let { imageFile, imageUrl, onCropComplete, onCancel } = param;\n    _s();\n    const [crop, setCrop] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [dragMode, setDragMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeHandle, setActiveHandle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [startPos, setStartPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [startCrop, setStartCrop] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [imageSize, setImageSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [displaySize, setDisplaySize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cropBoxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const img = new Image();\n        img.onload = ()=>{\n            setImageSize({\n                width: img.width,\n                height: img.height\n            });\n        };\n        img.src = imageUrl;\n    }, [\n        imageUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const updateDisplaySize = ()=>{\n            if (imageRef.current) {\n                const rect = imageRef.current.getBoundingClientRect();\n                setDisplaySize({\n                    width: rect.width,\n                    height: rect.height\n                });\n            }\n        };\n        updateDisplaySize();\n        window.addEventListener(\"resize\", updateDisplaySize);\n        return ()=>window.removeEventListener(\"resize\", updateDisplaySize);\n    }, [\n        imageSize\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (displaySize && imageSize && !crop) {\n            // Set initial crop area to center 60% of image\n            const scaleX = displaySize.width / imageSize.width;\n            const scaleY = displaySize.height / imageSize.height;\n            const initialX = displaySize.width * 0.2;\n            const initialY = displaySize.height * 0.2;\n            const initialWidth = displaySize.width * 0.6;\n            const initialHeight = displaySize.height * 0.6;\n            setCrop({\n                x: initialX / scaleX,\n                y: initialY / scaleY,\n                width: initialWidth / scaleX,\n                height: initialHeight / scaleY\n            });\n        }\n    }, [\n        displaySize,\n        imageSize,\n        crop\n    ]);\n    // Convert display coordinates to image coordinates\n    const displayToImage = (displayX, displayY)=>{\n        if (!imageSize || !displaySize || !imageRef.current) return {\n            x: 0,\n            y: 0\n        };\n        const imgRect = imageRef.current.getBoundingClientRect();\n        const scaleX = imageSize.width / displaySize.width;\n        const scaleY = imageSize.height / displaySize.height;\n        const x = (displayX - imgRect.left) * scaleX;\n        const y = (displayY - imgRect.top) * scaleY;\n        return {\n            x,\n            y\n        };\n    };\n    // Clamp crop to image bounds\n    const clampCrop = (cropArea)=>{\n        if (!imageSize) return cropArea;\n        let { x, y, width, height } = cropArea;\n        // Ensure minimum size\n        width = Math.max(10, width);\n        height = Math.max(10, height);\n        // Clamp position and size to image bounds\n        x = Math.max(0, Math.min(x, imageSize.width - width));\n        y = Math.max(0, Math.min(y, imageSize.height - height));\n        width = Math.min(width, imageSize.width - x);\n        height = Math.min(height, imageSize.height - y);\n        return {\n            x,\n            y,\n            width,\n            height\n        };\n    };\n    const handlePointerDown = (e)=>{\n        if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n        e.preventDefault();\n        e.stopPropagation();\n        const imgRect = imageRef.current.getBoundingClientRect();\n        const displayX = e.clientX;\n        const displayY = e.clientY;\n        // Only allow interaction if click is on the image\n        if (displayX < imgRect.left || displayY < imgRect.top || displayX > imgRect.right || displayY > imgRect.bottom) return;\n        const imgPos = displayToImage(displayX, displayY);\n        const startImgPos = imgPos;\n        // Check if clicking on a resize handle\n        const handleSize = 12; // Hit area for handles in image coordinates\n        const scaleX = imageSize.width / displaySize.width;\n        const scaleY = imageSize.height / displaySize.height;\n        const handleSizeScaled = handleSize * Math.max(scaleX, scaleY);\n        const left = crop.x;\n        const right = crop.x + crop.width;\n        const top = crop.y;\n        const bottom = crop.y + crop.height;\n        let handle = null;\n        // Check corners\n        if (Math.abs(imgPos.x - left) < handleSizeScaled && Math.abs(imgPos.y - top) < handleSizeScaled) {\n            handle = \"top-left\";\n        } else if (Math.abs(imgPos.x - right) < handleSizeScaled && Math.abs(imgPos.y - top) < handleSizeScaled) {\n            handle = \"top-right\";\n        } else if (Math.abs(imgPos.x - left) < handleSizeScaled && Math.abs(imgPos.y - bottom) < handleSizeScaled) {\n            handle = \"bottom-left\";\n        } else if (Math.abs(imgPos.x - right) < handleSizeScaled && Math.abs(imgPos.y - bottom) < handleSizeScaled) {\n            handle = \"bottom-right\";\n        }\n        // Check if inside crop box\n        const isInside = imgPos.x >= left && imgPos.x <= right && imgPos.y >= top && imgPos.y <= bottom;\n        if (handle) {\n            setDragMode(\"resize\");\n            setActiveHandle(handle);\n        } else if (isInside) {\n            setDragMode(\"move\");\n            setActiveHandle(null);\n        } else {\n            return; // Clicked outside crop box\n        }\n        setStartPos(startImgPos);\n        setStartCrop({\n            ...crop\n        });\n        // Capture pointer\n        if (e.currentTarget instanceof HTMLElement) {\n            try {\n                e.currentTarget.setPointerCapture(e.pointerId);\n            } catch (err) {\n                console.warn(\"setPointerCapture failed:\", err);\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!dragMode || !startPos || !startCrop || !imageSize || !displaySize) return;\n        const handlePointerMove = (e)=>{\n            if (!imageRef.current) return;\n            e.preventDefault();\n            const imgRect = imageRef.current.getBoundingClientRect();\n            const displayX = Math.max(imgRect.left, Math.min(e.clientX, imgRect.right));\n            const displayY = Math.max(imgRect.top, Math.min(e.clientY, imgRect.bottom));\n            const currentImgPos = displayToImage(displayX, displayY);\n            const deltaX = currentImgPos.x - startPos.x;\n            const deltaY = currentImgPos.y - startPos.y;\n            let newCrop = {\n                ...startCrop\n            };\n            if (dragMode === \"move\") {\n                // Move the entire crop box\n                newCrop.x = startCrop.x + deltaX;\n                newCrop.y = startCrop.y + deltaY;\n            } else if (dragMode === \"resize\" && activeHandle) {\n                // Resize based on handle\n                switch(activeHandle){\n                    case \"top-left\":\n                        newCrop.x = startCrop.x + deltaX;\n                        newCrop.y = startCrop.y + deltaY;\n                        newCrop.width = startCrop.width - deltaX;\n                        newCrop.height = startCrop.height - deltaY;\n                        break;\n                    case \"top-right\":\n                        newCrop.y = startCrop.y + deltaY;\n                        newCrop.width = startCrop.width + deltaX;\n                        newCrop.height = startCrop.height - deltaY;\n                        break;\n                    case \"bottom-left\":\n                        newCrop.x = startCrop.x + deltaX;\n                        newCrop.width = startCrop.width - deltaX;\n                        newCrop.height = startCrop.height + deltaY;\n                        break;\n                    case \"bottom-right\":\n                        newCrop.width = startCrop.width + deltaX;\n                        newCrop.height = startCrop.height + deltaY;\n                        break;\n                }\n            }\n            // Clamp to image bounds\n            newCrop = clampCrop(newCrop);\n            setCrop(newCrop);\n        };\n        const handlePointerUp = (e)=>{\n            if (cropBoxRef.current) {\n                try {\n                    cropBoxRef.current.releasePointerCapture(e.pointerId);\n                } catch (err) {\n                // Ignore if already released\n                }\n            }\n            setDragMode(null);\n            setActiveHandle(null);\n            setStartPos(null);\n            setStartCrop(null);\n        };\n        window.addEventListener(\"pointermove\", handlePointerMove);\n        window.addEventListener(\"pointerup\", handlePointerUp);\n        window.addEventListener(\"pointercancel\", handlePointerUp);\n        return ()=>{\n            window.removeEventListener(\"pointermove\", handlePointerMove);\n            window.removeEventListener(\"pointerup\", handlePointerUp);\n            window.removeEventListener(\"pointercancel\", handlePointerUp);\n        };\n    }, [\n        dragMode,\n        startPos,\n        startCrop,\n        imageSize,\n        displaySize,\n        activeHandle\n    ]);\n    const handleCrop = async ()=>{\n        if (!crop || !imageSize) return;\n        // Validate crop area\n        if (crop.width < 10 || crop.height < 10) {\n            alert(\"Crop area too small. Please select a larger area.\");\n            return;\n        }\n        try {\n            const croppedFile = await (0,_lib_image_crop__WEBPACK_IMPORTED_MODULE_3__.cropImage)(imageFile, crop);\n            onCropComplete(croppedFile);\n        } catch (error) {\n            console.error(\"Crop error:\", error);\n            alert(\"Failed to crop image. Please try again.\");\n        }\n    };\n    const handleSearchFull = ()=>{\n        onCropComplete(imageFile);\n    };\n    if (!imageSize) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: \"Loading image...\"\n            }, void 0, false, {\n                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                lineNumber: 270,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n            lineNumber: 269,\n            columnNumber: 7\n        }, this);\n    }\n    const getCursor = ()=>{\n        if (dragMode === \"move\") return \"move\";\n        if (dragMode === \"resize\") {\n            switch(activeHandle){\n                case \"top-left\":\n                case \"bottom-right\":\n                    return \"nwse-resize\";\n                case \"top-right\":\n                case \"bottom-left\":\n                    return \"nesw-resize\";\n                default:\n                    return \"default\";\n            }\n        }\n        return \"default\";\n    };\n    const scaleX = imageSize.width / ((displaySize === null || displaySize === void 0 ? void 0 : displaySize.width) || 1);\n    const scaleY = imageSize.height / ((displaySize === null || displaySize === void 0 ? void 0 : displaySize.height) || 1);\n    const cropDisplayX = crop ? crop.x / scaleX : 0;\n    const cropDisplayY = crop ? crop.y / scaleY : 0;\n    const cropDisplayWidth = crop ? crop.width / scaleX : 0;\n    const cropDisplayHeight = crop ? crop.height / scaleY : 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col items-center justify-center px-6 py-24\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-4xl space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center space-y-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold tracking-tight\",\n                            children: \"Select Area to Search\"\n                        }, void 0, false, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 304,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm opacity-60\",\n                            children: \"Drag to move or resize the selection box\"\n                        }, void 0, false, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 305,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 303,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: containerRef,\n                    className: \"relative border-2 border-foreground/20 rounded-lg overflow-hidden bg-background crop-container\",\n                    style: {\n                        maxHeight: \"70vh\",\n                        touchAction: \"none\",\n                        userSelect: \"none\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative inline-block\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                ref: imageRef,\n                                src: imageUrl,\n                                alt: \"Crop preview\",\n                                className: \"max-w-full max-h-[70vh] object-contain\",\n                                draggable: false,\n                                style: {\n                                    touchAction: \"none\",\n                                    pointerEvents: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 13\n                            }, this),\n                            crop && crop.width > 0 && crop.height > 0 && displaySize && imageSize && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 pointer-events-none\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 bg-black/50\",\n                                        style: {\n                                            clipPath: \"polygon(\\n                      0% 0%, \\n                      0% 100%, \\n                      \".concat(crop.x / imageSize.width * 100, \"% 100%, \\n                      \").concat(crop.x / imageSize.width * 100, \"% \").concat(crop.y / imageSize.height * 100, \"%, \\n                      \").concat((crop.x + crop.width) / imageSize.width * 100, \"% \").concat(crop.y / imageSize.height * 100, \"%, \\n                      \").concat((crop.x + crop.width) / imageSize.width * 100, \"% \").concat((crop.y + crop.height) / imageSize.height * 100, \"%, \\n                      \").concat(crop.x / imageSize.width * 100, \"% \").concat((crop.y + crop.height) / imageSize.height * 100, \"%, \\n                      \").concat(crop.x / imageSize.width * 100, \"% 100%, \\n                      100% 100%, \\n                      100% 0%\\n                    )\")\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                        lineNumber: 334,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: cropBoxRef,\n                                        className: \"absolute border-2 border-white shadow-lg pointer-events-auto\",\n                                        style: {\n                                            left: \"\".concat(cropDisplayX, \"px\"),\n                                            top: \"\".concat(cropDisplayY, \"px\"),\n                                            width: \"\".concat(cropDisplayWidth, \"px\"),\n                                            height: \"\".concat(cropDisplayHeight, \"px\"),\n                                            cursor: getCursor()\n                                        },\n                                        onPointerDown: handlePointerDown,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nwse-resize z-10\",\n                                                \"data-handle\": \"top-left\",\n                                                style: {\n                                                    top: -6,\n                                                    left: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"top-left\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (e.currentTarget instanceof HTMLElement) {\n                                                        e.currentTarget.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 366,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nesw-resize z-10\",\n                                                \"data-handle\": \"top-right\",\n                                                style: {\n                                                    top: -6,\n                                                    right: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"top-right\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (e.currentTarget instanceof HTMLElement) {\n                                                        e.currentTarget.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 383,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nesw-resize z-10\",\n                                                \"data-handle\": \"bottom-left\",\n                                                style: {\n                                                    bottom: -6,\n                                                    left: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"bottom-left\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (e.currentTarget instanceof HTMLElement) {\n                                                        e.currentTarget.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 400,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute w-3 h-3 bg-white border border-black rounded-full cursor-nwse-resize z-10\",\n                                                \"data-handle\": \"bottom-right\",\n                                                style: {\n                                                    bottom: -6,\n                                                    right: -6\n                                                },\n                                                onPointerDown: (e)=>{\n                                                    e.stopPropagation();\n                                                    if (!imageRef.current || !displaySize || !imageSize || !crop) return;\n                                                    const imgPos = displayToImage(e.clientX, e.clientY);\n                                                    setDragMode(\"resize\");\n                                                    setActiveHandle(\"bottom-right\");\n                                                    setStartPos(imgPos);\n                                                    setStartCrop({\n                                                        ...crop\n                                                    });\n                                                    if (e.currentTarget instanceof HTMLElement) {\n                                                        e.currentTarget.setPointerCapture(e.pointerId);\n                                                    }\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                                lineNumber: 417,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                        lineNumber: 353,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                        lineNumber: 320,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 311,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: handleCrop,\n                            disabled: !crop || crop.width < 10 || crop.height < 10,\n                            className: \"h-12 px-8 text-xs tracking-[0.2em] uppercase\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 13\n                                }, this),\n                                \"Search Selected Area\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 442,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: handleSearchFull,\n                            variant: \"outline\",\n                            className: \"h-12 px-8 text-xs tracking-[0.2em] uppercase\",\n                            children: \"Search Entire Image\"\n                        }, void 0, false, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 451,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: onCancel,\n                            variant: \"ghost\",\n                            className: \"h-12 px-8 text-xs tracking-[0.2em] uppercase\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crop_RotateCcw_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 13\n                                }, this),\n                                \"Cancel\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                            lineNumber: 459,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 441,\n                    columnNumber: 9\n                }, this),\n                crop && crop.width > 0 && crop.height > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center text-xs opacity-60\",\n                    children: [\n                        \"Selection: \",\n                        Math.round(crop.width * crop.height / (imageSize.width * imageSize.height) * 100),\n                        \"% of image\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n                    lineNumber: 470,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n            lineNumber: 301,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/okhaimusa/Documents/look-alike-discover/app/components/ImageCrop.tsx\",\n        lineNumber: 300,\n        columnNumber: 5\n    }, this);\n}\n_s(ImageCrop, \"21wz6816PGOb7T1Bhilf6qtqluE=\");\n_c = ImageCrop;\nvar _c;\n$RefreshReg$(_c, \"ImageCrop\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL0ltYWdlQ3JvcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUUyRDtBQUNYO0FBQ0Q7QUFDaUI7QUFZekQsU0FBU1EsVUFBVSxLQUFpRTtRQUFqRSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsY0FBYyxFQUFFQyxRQUFRLEVBQWtCLEdBQWpFOztJQUN4QixNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR2IsK0NBQVFBLENBQWtCO0lBQ2xELE1BQU0sQ0FBQ2MsVUFBVUMsWUFBWSxHQUFHZiwrQ0FBUUEsQ0FBVztJQUNuRCxNQUFNLENBQUNnQixjQUFjQyxnQkFBZ0IsR0FBR2pCLCtDQUFRQSxDQUFpQjtJQUNqRSxNQUFNLENBQUNrQixVQUFVQyxZQUFZLEdBQUduQiwrQ0FBUUEsQ0FBa0M7SUFDMUUsTUFBTSxDQUFDb0IsV0FBV0MsYUFBYSxHQUFHckIsK0NBQVFBLENBQWtCO0lBQzVELE1BQU0sQ0FBQ3NCLFdBQVdDLGFBQWEsR0FBR3ZCLCtDQUFRQSxDQUEyQztJQUNyRixNQUFNLENBQUN3QixhQUFhQyxlQUFlLEdBQUd6QiwrQ0FBUUEsQ0FBMkM7SUFDekYsTUFBTTBCLFdBQVd6Qiw2Q0FBTUEsQ0FBbUI7SUFDMUMsTUFBTTBCLGVBQWUxQiw2Q0FBTUEsQ0FBaUI7SUFDNUMsTUFBTTJCLGFBQWEzQiw2Q0FBTUEsQ0FBaUI7SUFFMUNDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTJCLE1BQU0sSUFBSUM7UUFDaEJELElBQUlFLE1BQU0sR0FBRztZQUNYUixhQUFhO2dCQUFFUyxPQUFPSCxJQUFJRyxLQUFLO2dCQUFFQyxRQUFRSixJQUFJSSxNQUFNO1lBQUM7UUFDdEQ7UUFDQUosSUFBSUssR0FBRyxHQUFHekI7SUFDWixHQUFHO1FBQUNBO0tBQVM7SUFFYlAsZ0RBQVNBLENBQUM7UUFDUixNQUFNaUMsb0JBQW9CO1lBQ3hCLElBQUlULFNBQVNVLE9BQU8sRUFBRTtnQkFDcEIsTUFB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b0JBQUlDLFdBQVU7O3dCQUFpQzt3QkFDbEN0QyxLQUFLNkQsS0FBSyxDQUFDLEtBQU12RixLQUFLLEdBQUdwQixLQUFLcUIsTUFBTSxHQUFLWCxDQUFBQSxVQUFVVSxLQUFLLEdBQUdWLFVBQVVXLE1BQU0sSUFBSTt3QkFBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTVHO0dBM2NnQjFCO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9jb21wb25lbnRzL0ltYWdlQ3JvcC50c3g/ZWZjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgQ3JvcCwgUm90YXRlQ2N3IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IGNyb3BJbWFnZSwgdHlwZSBDcm9wQXJlYSB9IGZyb20gJy4uLy4uL2xpYi9pbWFnZS1jcm9wJztcblxuaW50ZXJmYWNlIEltYWdlQ3JvcFByb3BzIHtcbiAgaW1hZ2VGaWxlOiBGaWxlO1xuICBpbWFnZVVybDogc3RyaW5nO1xuICBvbkNyb3BDb21wbGV0ZTogKGNyb3BwZWRGaWxlOiBGaWxlKSA9PiB2b2lkO1xuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBIYW5kbGVQb3NpdGlvbiA9ICd0b3AtbGVmdCcgfCAndG9wLXJpZ2h0JyB8ICdib3R0b20tbGVmdCcgfCAnYm90dG9tLXJpZ2h0JyB8IG51bGw7XG50eXBlIERyYWdNb2RlID0gJ21vdmUnIHwgJ3Jlc2l6ZScgfCBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gSW1hZ2VDcm9wKHsgaW1hZ2VGaWxlLCBpbWFnZVVybCwgb25Dcm9wQ29tcGxldGUsIG9uQ2FuY2VsIH06IEltYWdlQ3JvcFByb3BzKSB7XG4gIGNvbnN0IFtjcm9wLCBzZXRDcm9wXSA9IHVzZVN0YXRlPENyb3BBcmVhIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkcmFnTW9kZSwgc2V0RHJhZ01vZGVdID0gdXNlU3RhdGU8RHJhZ01vZGU+KG51bGwpO1xuICBjb25zdCBbYWN0aXZlSGFuZGxlLCBzZXRBY3RpdmVIYW5kbGVdID0gdXNlU3RhdGU8SGFuZGxlUG9zaXRpb24+KG51bGwpO1xuICBjb25zdCBbc3RhcnRQb3MsIHNldFN0YXJ0UG9zXSA9IHVzZVN0YXRlPHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc3RhcnRDcm9wLCBzZXRTdGFydENyb3BdID0gdXNlU3RhdGU8Q3JvcEFyZWEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ltYWdlU2l6ZSwgc2V0SW1hZ2VTaXplXSA9IHVzZVN0YXRlPHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZGlzcGxheVNpemUsIHNldERpc3BsYXlTaXplXSA9IHVzZVN0YXRlPHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBpbWFnZVJlZiA9IHVzZVJlZjxIVE1MSW1hZ2VFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY3JvcEJveFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgc2V0SW1hZ2VTaXplKHsgd2lkdGg6IGltZy53aWR0aCwgaGVpZ2h0OiBpbWcuaGVpZ2h0IH0pO1xuICAgIH07XG4gICAgaW1nLnNyYyA9IGltYWdlVXJsO1xuICB9LCBbaW1hZ2VVcmxdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZURpc3BsYXlTaXplID0gKCkgPT4ge1xuICAgICAgaWYgKGltYWdlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGltYWdlUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHNldERpc3BsYXlTaXplKHsgd2lkdGg6IHJlY3Qud2lkdGgsIGhlaWdodDogcmVjdC5oZWlnaHQgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHVwZGF0ZURpc3BsYXlTaXplKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpc3BsYXlTaXplKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZURpc3BsYXlTaXplKTtcbiAgfSwgW2ltYWdlU2l6ZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRpc3BsYXlTaXplICYmIGltYWdlU2l6ZSAmJiAhY3JvcCkge1xuICAgICAgLy8gU2V0IGluaXRpYWwgY3JvcCBhcmVhIHRvIGNlbnRlciA2MCUgb2YgaW1hZ2VcbiAgICAgIGNvbnN0IHNjYWxlWCA9IGRpc3BsYXlTaXplLndpZHRoIC8gaW1hZ2VTaXplLndpZHRoO1xuICAgICAgY29uc3Qgc2NhbGVZID0gZGlzcGxheVNpemUuaGVpZ2h0IC8gaW1hZ2VTaXplLmhlaWdodDtcbiAgICAgIGNvbnN0IGluaXRpYWxYID0gZGlzcGxheVNpemUud2lkdGggKiAwLjI7XG4gICAgICBjb25zdCBpbml0aWFsWSA9IGRpc3BsYXlTaXplLmhlaWdodCAqIDAuMjtcbiAgICAgIGNvbnN0IGluaXRpYWxXaWR0aCA9IGRpc3BsYXlTaXplLndpZHRoICogMC42O1xuICAgICAgY29uc3QgaW5pdGlhbEhlaWdodCA9IGRpc3BsYXlTaXplLmhlaWdodCAqIDAuNjtcbiAgICAgIFxuICAgICAgc2V0Q3JvcCh7XG4gICAgICAgIHg6IGluaXRpYWxYIC8gc2NhbGVYLFxuICAgICAgICB5OiBpbml0aWFsWSAvIHNjYWxlWSxcbiAgICAgICAgd2lkdGg6IGluaXRpYWxXaWR0aCAvIHNjYWxlWCxcbiAgICAgICAgaGVpZ2h0OiBpbml0aWFsSGVpZ2h0IC8gc2NhbGVZLFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZGlzcGxheVNpemUsIGltYWdlU2l6ZSwgY3JvcF0pO1xuXG4gIC8vIENvbnZlcnQgZGlzcGxheSBjb29yZGluYXRlcyB0byBpbWFnZSBjb29yZGluYXRlc1xuICBjb25zdCBkaXNwbGF5VG9JbWFnZSA9IChkaXNwbGF5WDogbnVtYmVyLCBkaXNwbGF5WTogbnVtYmVyKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9ID0+IHtcbiAgICBpZiAoIWltYWdlU2l6ZSB8fCAhZGlzcGxheVNpemUgfHwgIWltYWdlUmVmLmN1cnJlbnQpIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICBjb25zdCBpbWdSZWN0ID0gaW1hZ2VSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzY2FsZVggPSBpbWFnZVNpemUud2lkdGggLyBkaXNwbGF5U2l6ZS53aWR0aDtcbiAgICBjb25zdCBzY2FsZVkgPSBpbWFnZVNpemUuaGVpZ2h0IC8gZGlzcGxheVNpemUuaGVpZ2h0O1xuICAgIGNvbnN0IHggPSAoZGlzcGxheVggLSBpbWdSZWN0LmxlZnQpICogc2NhbGVYO1xuICAgIGNvbnN0IHkgPSAoZGlzcGxheVkgLSBpbWdSZWN0LnRvcCkgKiBzY2FsZVk7XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9O1xuXG4gIC8vIENsYW1wIGNyb3AgdG8gaW1hZ2UgYm91bmRzXG4gIGNvbnN0IGNsYW1wQ3JvcCA9IChjcm9wQXJlYTogQ3JvcEFyZWEpOiBDcm9wQXJlYSA9PiB7XG4gICAgaWYgKCFpbWFnZVNpemUpIHJldHVybiBjcm9wQXJlYTtcbiAgICBcbiAgICBsZXQgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBjcm9wQXJlYTtcbiAgICBcbiAgICAvLyBFbnN1cmUgbWluaW11bSBzaXplXG4gICAgd2lkdGggPSBNYXRoLm1heCgxMCwgd2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGgubWF4KDEwLCBoZWlnaHQpO1xuICAgIFxuICAgIC8vIENsYW1wIHBvc2l0aW9uIGFuZCBzaXplIHRvIGltYWdlIGJvdW5kc1xuICAgIHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih4LCBpbWFnZVNpemUud2lkdGggLSB3aWR0aCkpO1xuICAgIHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih5LCBpbWFnZVNpemUuaGVpZ2h0IC0gaGVpZ2h0KSk7XG4gICAgd2lkdGggPSBNYXRoLm1pbih3aWR0aCwgaW1hZ2VTaXplLndpZHRoIC0geCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5taW4oaGVpZ2h0LCBpbWFnZVNpemUuaGVpZ2h0IC0geSk7XG4gICAgXG4gICAgcmV0dXJuIHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKGU6IFJlYWN0LlBvaW50ZXJFdmVudCkgPT4ge1xuICAgIGlmICghaW1hZ2VSZWYuY3VycmVudCB8fCAhZGlzcGxheVNpemUgfHwgIWltYWdlU2l6ZSB8fCAhY3JvcCkgcmV0dXJuO1xuICAgIFxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIFxuICAgIGNvbnN0IGltZ1JlY3QgPSBpbWFnZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRpc3BsYXlYID0gZS5jbGllbnRYO1xuICAgIGNvbnN0IGRpc3BsYXlZID0gZS5jbGllbnRZO1xuICAgIFxuICAgIC8vIE9ubHkgYWxsb3cgaW50ZXJhY3Rpb24gaWYgY2xpY2sgaXMgb24gdGhlIGltYWdlXG4gICAgaWYgKGRpc3BsYXlYIDwgaW1nUmVjdC5sZWZ0IHx8IGRpc3BsYXlZIDwgaW1nUmVjdC50b3AgfHwgXG4gICAgICAgIGRpc3BsYXlYID4gaW1nUmVjdC5yaWdodCB8fCBkaXNwbGF5WSA+IGltZ1JlY3QuYm90dG9tKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgaW1nUG9zID0gZGlzcGxheVRvSW1hZ2UoZGlzcGxheVgsIGRpc3BsYXlZKTtcbiAgICBjb25zdCBzdGFydEltZ1BvcyA9IGltZ1BvcztcbiAgICBcbiAgICAvLyBDaGVjayBpZiBjbGlja2luZyBvbiBhIHJlc2l6ZSBoYW5kbGVcbiAgICBjb25zdCBoYW5kbGVTaXplID0gMTI7IC8vIEhpdCBhcmVhIGZvciBoYW5kbGVzIGluIGltYWdlIGNvb3JkaW5hdGVzXG4gICAgY29uc3Qgc2NhbGVYID0gaW1hZ2VTaXplLndpZHRoIC8gZGlzcGxheVNpemUud2lkdGg7XG4gICAgY29uc3Qgc2NhbGVZID0gaW1hZ2VTaXplLmhlaWdodCAvIGRpc3BsYXlTaXplLmhlaWdodDtcbiAgICBjb25zdCBoYW5kbGVTaXplU2NhbGVkID0gaGFuZGxlU2l6ZSAqIE1hdGgubWF4KHNjYWxlWCwgc2NhbGVZKTtcbiAgICBcbiAgICBjb25zdCBsZWZ0ID0gY3JvcC54O1xuICAgIGNvbnN0IHJpZ2h0ID0gY3JvcC54ICsgY3JvcC53aWR0aDtcbiAgICBjb25zdCB0b3AgPSBjcm9wLnk7XG4gICAgY29uc3QgYm90dG9tID0gY3JvcC55ICsgY3JvcC5oZWlnaHQ7XG4gICAgXG4gICAgbGV0IGhhbmRsZTogSGFuZGxlUG9zaXRpb24gPSBudWxsO1xuICAgIFxuICAgIC8vIENoZWNrIGNvcm5lcnNcbiAgICBpZiAoTWF0aC5hYnMoaW1nUG9zLnggLSBsZWZ0KSA8IGhhbmRsZVNpemVTY2FsZWQgJiYgTWF0aC5hYnMoaW1nUG9zLnkgLSB0b3ApIDwgaGFuZGxlU2l6ZVNjYWxlZCkge1xuICAgICAgaGFuZGxlID0gJ3RvcC1sZWZ0JztcbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGltZ1Bvcy54IC0gcmlnaHQpIDwgaGFuZGxlU2l6ZVNjYWxlZCAmJiBNYXRoLmFicyhpbWdQb3MueSAtIHRvcCkgPCBoYW5kbGVTaXplU2NhbGVkKSB7XG4gICAgICBoYW5kbGUgPSAndG9wLXJpZ2h0JztcbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGltZ1Bvcy54IC0gbGVmdCkgPCBoYW5kbGVTaXplU2NhbGVkICYmIE1hdGguYWJzKGltZ1Bvcy55IC0gYm90dG9tKSA8IGhhbmRsZVNpemVTY2FsZWQpIHtcbiAgICAgIGhhbmRsZSA9ICdib3R0b20tbGVmdCc7XG4gICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbWdQb3MueCAtIHJpZ2h0KSA8IGhhbmRsZVNpemVTY2FsZWQgJiYgTWF0aC5hYnMoaW1nUG9zLnkgLSBib3R0b20pIDwgaGFuZGxlU2l6ZVNjYWxlZCkge1xuICAgICAgaGFuZGxlID0gJ2JvdHRvbS1yaWdodCc7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIGluc2lkZSBjcm9wIGJveFxuICAgIGNvbnN0IGlzSW5zaWRlID0gaW1nUG9zLnggPj0gbGVmdCAmJiBpbWdQb3MueCA8PSByaWdodCAmJiBpbWdQb3MueSA+PSB0b3AgJiYgaW1nUG9zLnkgPD0gYm90dG9tO1xuICAgIFxuICAgIGlmIChoYW5kbGUpIHtcbiAgICAgIHNldERyYWdNb2RlKCdyZXNpemUnKTtcbiAgICAgIHNldEFjdGl2ZUhhbmRsZShoYW5kbGUpO1xuICAgIH0gZWxzZSBpZiAoaXNJbnNpZGUpIHtcbiAgICAgIHNldERyYWdNb2RlKCdtb3ZlJyk7XG4gICAgICBzZXRBY3RpdmVIYW5kbGUobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjsgLy8gQ2xpY2tlZCBvdXRzaWRlIGNyb3AgYm94XG4gICAgfVxuICAgIFxuICAgIHNldFN0YXJ0UG9zKHN0YXJ0SW1nUG9zKTtcbiAgICBzZXRTdGFydENyb3AoeyAuLi5jcm9wIH0pO1xuICAgIFxuICAgIC8vIENhcHR1cmUgcG9pbnRlclxuICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ3NldFBvaW50ZXJDYXB0dXJlIGZhaWxlZDonLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZHJhZ01vZGUgfHwgIXN0YXJ0UG9zIHx8ICFzdGFydENyb3AgfHwgIWltYWdlU2l6ZSB8fCAhZGlzcGxheVNpemUpIHJldHVybjtcblxuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKCFpbWFnZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIFxuICAgICAgY29uc3QgaW1nUmVjdCA9IGltYWdlUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBkaXNwbGF5WCA9IE1hdGgubWF4KGltZ1JlY3QubGVmdCwgTWF0aC5taW4oZS5jbGllbnRYLCBpbWdSZWN0LnJpZ2h0KSk7XG4gICAgICBjb25zdCBkaXNwbGF5WSA9IE1hdGgubWF4KGltZ1JlY3QudG9wLCBNYXRoLm1pbihlLmNsaWVudFksIGltZ1JlY3QuYm90dG9tKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGN1cnJlbnRJbWdQb3MgPSBkaXNwbGF5VG9JbWFnZShkaXNwbGF5WCwgZGlzcGxheVkpO1xuICAgICAgY29uc3QgZGVsdGFYID0gY3VycmVudEltZ1Bvcy54IC0gc3RhcnRQb3MueDtcbiAgICAgIGNvbnN0IGRlbHRhWSA9IGN1cnJlbnRJbWdQb3MueSAtIHN0YXJ0UG9zLnk7XG4gICAgICBcbiAgICAgIGxldCBuZXdDcm9wOiBDcm9wQXJlYSA9IHsgLi4uc3RhcnRDcm9wIH07XG4gICAgICBcbiAgICAgIGlmIChkcmFnTW9kZSA9PT0gJ21vdmUnKSB7XG4gICAgICAgIC8vIE1vdmUgdGhlIGVudGlyZSBjcm9wIGJveFxuICAgICAgICBuZXdDcm9wLnggPSBzdGFydENyb3AueCArIGRlbHRhWDtcbiAgICAgICAgbmV3Q3JvcC55ID0gc3RhcnRDcm9wLnkgKyBkZWx0YVk7XG4gICAgICB9IGVsc2UgaWYgKGRyYWdNb2RlID09PSAncmVzaXplJyAmJiBhY3RpdmVIYW5kbGUpIHtcbiAgICAgICAgLy8gUmVzaXplIGJhc2VkIG9uIGhhbmRsZVxuICAgICAgICBzd2l0Y2ggKGFjdGl2ZUhhbmRsZSkge1xuICAgICAgICAgIGNhc2UgJ3RvcC1sZWZ0JzpcbiAgICAgICAgICAgIG5ld0Nyb3AueCA9IHN0YXJ0Q3JvcC54ICsgZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC55ID0gc3RhcnRDcm9wLnkgKyBkZWx0YVk7XG4gICAgICAgICAgICBuZXdDcm9wLndpZHRoID0gc3RhcnRDcm9wLndpZHRoIC0gZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC5oZWlnaHQgPSBzdGFydENyb3AuaGVpZ2h0IC0gZGVsdGFZO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndG9wLXJpZ2h0JzpcbiAgICAgICAgICAgIG5ld0Nyb3AueSA9IHN0YXJ0Q3JvcC55ICsgZGVsdGFZO1xuICAgICAgICAgICAgbmV3Q3JvcC53aWR0aCA9IHN0YXJ0Q3JvcC53aWR0aCArIGRlbHRhWDtcbiAgICAgICAgICAgIG5ld0Nyb3AuaGVpZ2h0ID0gc3RhcnRDcm9wLmhlaWdodCAtIGRlbHRhWTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcbiAgICAgICAgICAgIG5ld0Nyb3AueCA9IHN0YXJ0Q3JvcC54ICsgZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC53aWR0aCA9IHN0YXJ0Q3JvcC53aWR0aCAtIGRlbHRhWDtcbiAgICAgICAgICAgIG5ld0Nyb3AuaGVpZ2h0ID0gc3RhcnRDcm9wLmhlaWdodCArIGRlbHRhWTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6XG4gICAgICAgICAgICBuZXdDcm9wLndpZHRoID0gc3RhcnRDcm9wLndpZHRoICsgZGVsdGFYO1xuICAgICAgICAgICAgbmV3Q3JvcC5oZWlnaHQgPSBzdGFydENyb3AuaGVpZ2h0ICsgZGVsdGFZO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xhbXAgdG8gaW1hZ2UgYm91bmRzXG4gICAgICBuZXdDcm9wID0gY2xhbXBDcm9wKG5ld0Nyb3ApO1xuICAgICAgc2V0Q3JvcChuZXdDcm9wKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKGNyb3BCb3hSZWYuY3VycmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNyb3BCb3hSZWYuY3VycmVudC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgaWYgYWxyZWFkeSByZWxlYXNlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXREcmFnTW9kZShudWxsKTtcbiAgICAgIHNldEFjdGl2ZUhhbmRsZShudWxsKTtcbiAgICAgIHNldFN0YXJ0UG9zKG51bGwpO1xuICAgICAgc2V0U3RhcnRDcm9wKG51bGwpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBoYW5kbGVQb2ludGVyVXApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXApO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBoYW5kbGVQb2ludGVyVXApO1xuICAgIH07XG4gIH0sIFtkcmFnTW9kZSwgc3RhcnRQb3MsIHN0YXJ0Q3JvcCwgaW1hZ2VTaXplLCBkaXNwbGF5U2l6ZSwgYWN0aXZlSGFuZGxlXSk7XG5cbiAgY29uc3QgaGFuZGxlQ3JvcCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNyb3AgfHwgIWltYWdlU2l6ZSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGNyb3AgYXJlYVxuICAgIGlmIChjcm9wLndpZHRoIDwgMTAgfHwgY3JvcC5oZWlnaHQgPCAxMCkge1xuICAgICAgYWxlcnQoJ0Nyb3AgYXJlYSB0b28gc21hbGwuIFBsZWFzZSBzZWxlY3QgYSBsYXJnZXIgYXJlYS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNyb3BwZWRGaWxlID0gYXdhaXQgY3JvcEltYWdlKGltYWdlRmlsZSwgY3JvcCk7XG4gICAgICBvbkNyb3BDb21wbGV0ZShjcm9wcGVkRmlsZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nyb3AgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBjcm9wIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWFyY2hGdWxsID0gKCkgPT4ge1xuICAgIG9uQ3JvcENvbXBsZXRlKGltYWdlRmlsZSk7XG4gIH07XG5cbiAgaWYgKCFpbWFnZVNpemUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPkxvYWRpbmcgaW1hZ2UuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBnZXRDdXJzb3IgPSAoKTogc3RyaW5nID0+IHtcbiAgICBpZiAoZHJhZ01vZGUgPT09ICdtb3ZlJykgcmV0dXJuICdtb3ZlJztcbiAgICBpZiAoZHJhZ01vZGUgPT09ICdyZXNpemUnKSB7XG4gICAgICBzd2l0Y2ggKGFjdGl2ZUhhbmRsZSkge1xuICAgICAgICBjYXNlICd0b3AtbGVmdCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6XG4gICAgICAgICAgcmV0dXJuICdud3NlLXJlc2l6ZSc7XG4gICAgICAgIGNhc2UgJ3RvcC1yaWdodCc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcbiAgICAgICAgICByZXR1cm4gJ25lc3ctcmVzaXplJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICB9O1xuXG4gIGNvbnN0IHNjYWxlWCA9IGltYWdlU2l6ZS53aWR0aCAvIChkaXNwbGF5U2l6ZT8ud2lkdGggfHwgMSk7XG4gIGNvbnN0IHNjYWxlWSA9IGltYWdlU2l6ZS5oZWlnaHQgLyAoZGlzcGxheVNpemU/LmhlaWdodCB8fCAxKTtcbiAgY29uc3QgY3JvcERpc3BsYXlYID0gY3JvcCA/IChjcm9wLnggLyBzY2FsZVgpIDogMDtcbiAgY29uc3QgY3JvcERpc3BsYXlZID0gY3JvcCA/IChjcm9wLnkgLyBzY2FsZVkpIDogMDtcbiAgY29uc3QgY3JvcERpc3BsYXlXaWR0aCA9IGNyb3AgPyAoY3JvcC53aWR0aCAvIHNjYWxlWCkgOiAwO1xuICBjb25zdCBjcm9wRGlzcGxheUhlaWdodCA9IGNyb3AgPyAoY3JvcC5oZWlnaHQgLyBzY2FsZVkpIDogMDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTYgcHktMjRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTR4bCBzcGFjZS15LTZcIj5cbiAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRyYWNraW5nLXRpZ2h0XCI+U2VsZWN0IEFyZWEgdG8gU2VhcmNoPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG9wYWNpdHktNjBcIj5cbiAgICAgICAgICAgIERyYWcgdG8gbW92ZSBvciByZXNpemUgdGhlIHNlbGVjdGlvbiBib3hcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBDcm9wIENvbnRhaW5lciAqL31cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGJvcmRlci0yIGJvcmRlci1mb3JlZ3JvdW5kLzIwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGJnLWJhY2tncm91bmQgY3JvcC1jb250YWluZXJcIlxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiAnNzB2aCcsXG4gICAgICAgICAgICB0b3VjaEFjdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGlubGluZS1ibG9ja1wiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICByZWY9e2ltYWdlUmVmfVxuICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxuICAgICAgICAgICAgICBhbHQ9XCJDcm9wIHByZXZpZXdcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLVs3MHZoXSBvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IHRvdWNoQWN0aW9uOiAnbm9uZScsIHBvaW50ZXJFdmVudHM6ICdhdXRvJyB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIENyb3AgT3ZlcmxheSAqL31cbiAgICAgICAgICAgIHtjcm9wICYmIGNyb3Aud2lkdGggPiAwICYmIGNyb3AuaGVpZ2h0ID4gMCAmJiBkaXNwbGF5U2l6ZSAmJiBpbWFnZVNpemUgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgIHsvKiBEYXJrIG92ZXJsYXkgY292ZXJpbmcgZW50aXJlIGltYWdlICovfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svNTBcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgY2xpcFBhdGg6IGBwb2x5Z29uKFxuICAgICAgICAgICAgICAgICAgICAgIDAlIDAlLCBcbiAgICAgICAgICAgICAgICAgICAgICAwJSAxMDAlLCBcbiAgICAgICAgICAgICAgICAgICAgICAkeyhjcm9wLnggLyBpbWFnZVNpemUud2lkdGgpICogMTAwfSUgMTAwJSwgXG4gICAgICAgICAgICAgICAgICAgICAgJHsoY3JvcC54IC8gaW1hZ2VTaXplLndpZHRoKSAqIDEwMH0lICR7KGNyb3AueSAvIGltYWdlU2l6ZS5oZWlnaHQpICogMTAwfSUsIFxuICAgICAgICAgICAgICAgICAgICAgICR7KChjcm9wLnggKyBjcm9wLndpZHRoKSAvIGltYWdlU2l6ZS53aWR0aCkgKiAxMDB9JSAkeyhjcm9wLnkgLyBpbWFnZVNpemUuaGVpZ2h0KSAqIDEwMH0lLCBcbiAgICAgICAgICAgICAgICAgICAgICAkeygoY3JvcC54ICsgY3JvcC53aWR0aCkgLyBpbWFnZVNpemUud2lkdGgpICogMTAwfSUgJHsoKGNyb3AueSArIGNyb3AuaGVpZ2h0KSAvIGltYWdlU2l6ZS5oZWlnaHQpICogMTAwfSUsIFxuICAgICAgICAgICAgICAgICAgICAgICR7KGNyb3AueCAvIGltYWdlU2l6ZS53aWR0aCkgKiAxMDB9JSAkeygoY3JvcC55ICsgY3JvcC5oZWlnaHQpIC8gaW1hZ2VTaXplLmhlaWdodCkgKiAxMDB9JSwgXG4gICAgICAgICAgICAgICAgICAgICAgJHsoY3JvcC54IC8gaW1hZ2VTaXplLndpZHRoKSAqIDEwMH0lIDEwMCUsIFxuICAgICAgICAgICAgICAgICAgICAgIDEwMCUgMTAwJSwgXG4gICAgICAgICAgICAgICAgICAgICAgMTAwJSAwJVxuICAgICAgICAgICAgICAgICAgICApYCxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogQ3JvcCBib3JkZXIgd2l0aCBoYW5kbGVzICovfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIHJlZj17Y3JvcEJveFJlZn1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvcmRlci0yIGJvcmRlci13aGl0ZSBzaGFkb3ctbGcgcG9pbnRlci1ldmVudHMtYXV0b1wiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBgJHtjcm9wRGlzcGxheVh9cHhgLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IGAke2Nyb3BEaXNwbGF5WX1weGAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtjcm9wRGlzcGxheVdpZHRofXB4YCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtjcm9wRGlzcGxheUhlaWdodH1weGAsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogZ2V0Q3Vyc29yKCksXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bj17aGFuZGxlUG9pbnRlckRvd259XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgey8qIENvcm5lciByZXNpemUgaGFuZGxlcyAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy0zIGgtMyBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWJsYWNrIHJvdW5kZWQtZnVsbCBjdXJzb3ItbndzZS1yZXNpemUgei0xMFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtaGFuZGxlPVwidG9wLWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB0b3A6IC02LCBsZWZ0OiAtNiB9fVxuICAgICAgICAgICAgICAgICAgICBvblBvaW50ZXJEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZVJlZi5jdXJyZW50IHx8ICFkaXNwbGF5U2l6ZSB8fCAhaW1hZ2VTaXplIHx8ICFjcm9wKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nUG9zID0gZGlzcGxheVRvSW1hZ2UoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldERyYWdNb2RlKCdyZXNpemUnKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVIYW5kbGUoJ3RvcC1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnRQb3MoaW1nUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGFydENyb3AoeyAuLi5jcm9wIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LTMgaC0zIGJnLXdoaXRlIGJvcmRlciBib3JkZXItYmxhY2sgcm91bmRlZC1mdWxsIGN1cnNvci1uZXN3LXJlc2l6ZSB6LTEwXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1oYW5kbGU9XCJ0b3AtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB0b3A6IC02LCByaWdodDogLTYgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2VSZWYuY3VycmVudCB8fCAhZGlzcGxheVNpemUgfHwgIWltYWdlU2l6ZSB8fCAhY3JvcCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1BvcyA9IGRpc3BsYXlUb0ltYWdlKGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXREcmFnTW9kZSgncmVzaXplJyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSGFuZGxlKCd0b3AtcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGFydFBvcyhpbWdQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXJ0Q3JvcCh7IC4uLmNyb3AgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHctMyBoLTMgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ibGFjayByb3VuZGVkLWZ1bGwgY3Vyc29yLW5lc3ctcmVzaXplIHotMTBcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWhhbmRsZT1cImJvdHRvbS1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYm90dG9tOiAtNiwgbGVmdDogLTYgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2VSZWYuY3VycmVudCB8fCAhZGlzcGxheVNpemUgfHwgIWltYWdlU2l6ZSB8fCAhY3JvcCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ1BvcyA9IGRpc3BsYXlUb0ltYWdlKGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXREcmFnTW9kZSgncmVzaXplJyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlSGFuZGxlKCdib3R0b20tbGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXJ0UG9zKGltZ1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnRDcm9wKHsgLi4uY3JvcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy0zIGgtMyBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWJsYWNrIHJvdW5kZWQtZnVsbCBjdXJzb3ItbndzZS1yZXNpemUgei0xMFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtaGFuZGxlPVwiYm90dG9tLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYm90dG9tOiAtNiwgcmlnaHQ6IC02IH19XG4gICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltYWdlUmVmLmN1cnJlbnQgfHwgIWRpc3BsYXlTaXplIHx8ICFpbWFnZVNpemUgfHwgIWNyb3ApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdQb3MgPSBkaXNwbGF5VG9JbWFnZShlLmNsaWVudFgsIGUuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0RHJhZ01vZGUoJ3Jlc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUhhbmRsZSgnYm90dG9tLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnRQb3MoaW1nUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTdGFydENyb3AoeyAuLi5jcm9wIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBDb250cm9scyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyb3B9XG4gICAgICAgICAgICBkaXNhYmxlZD17IWNyb3AgfHwgY3JvcC53aWR0aCA8IDEwIHx8IGNyb3AuaGVpZ2h0IDwgMTB9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIHB4LTggdGV4dC14cyB0cmFja2luZy1bMC4yZW1dIHVwcGVyY2FzZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENyb3AgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgIFNlYXJjaCBTZWxlY3RlZCBBcmVhXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNoRnVsbH1cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTIgcHgtOCB0ZXh0LXhzIHRyYWNraW5nLVswLjJlbV0gdXBwZXJjYXNlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBTZWFyY2ggRW50aXJlIEltYWdlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMiBweC04IHRleHQteHMgdHJhY2tpbmctWzAuMmVtXSB1cHBlcmNhc2VcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxSb3RhdGVDY3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Y3JvcCAmJiBjcm9wLndpZHRoID4gMCAmJiBjcm9wLmhlaWdodCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC14cyBvcGFjaXR5LTYwXCI+XG4gICAgICAgICAgICBTZWxlY3Rpb246IHtNYXRoLnJvdW5kKChjcm9wLndpZHRoICogY3JvcC5oZWlnaHQpIC8gKGltYWdlU2l6ZS53aWR0aCAqIGltYWdlU2l6ZS5oZWlnaHQpICogMTAwKX0lIG9mIGltYWdlXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiQnV0dG9uIiwiQ3JvcCIsIlJvdGF0ZUNjdyIsImNyb3BJbWFnZSIsIkltYWdlQ3JvcCIsImltYWdlRmlsZSIsImltYWdlVXJsIiwib25Dcm9wQ29tcGxldGUiLCJvbkNhbmNlbCIsImNyb3AiLCJzZXRDcm9wIiwiZHJhZ01vZGUiLCJzZXREcmFnTW9kZSIsImFjdGl2ZUhhbmRsZSIsInNldEFjdGl2ZUhhbmRsZSIsInN0YXJ0UG9zIiwic2V0U3RhcnRQb3MiLCJzdGFydENyb3AiLCJzZXRTdGFydENyb3AiLCJpbWFnZVNpemUiLCJzZXRJbWFnZVNpemUiLCJkaXNwbGF5U2l6ZSIsInNldERpc3BsYXlTaXplIiwiaW1hZ2VSZWYiLCJjb250YWluZXJSZWYiLCJjcm9wQm94UmVmIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJ3aWR0aCIsImhlaWdodCIsInNyYyIsInVwZGF0ZURpc3BsYXlTaXplIiwiY3VycmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNjYWxlWCIsInNjYWxlWSIsImluaXRpYWxYIiwiaW5pdGlhbFkiLCJpbml0aWFsV2lkdGgiLCJpbml0aWFsSGVpZ2h0IiwieCIsInkiLCJkaXNwbGF5VG9JbWFnZSIsImRpc3BsYXlYIiwiZGlzcGxheVkiLCJpbWdSZWN0IiwibGVmdCIsInRvcCIsImNsYW1wQ3JvcCIsImNyb3BBcmVhIiwiTWF0aCIsIm1heCIsIm1pbiIsImhhbmRsZVBvaW50ZXJEb3duIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJyaWdodCIsImJvdHRvbSIsImltZ1BvcyIsInN0YXJ0SW1nUG9zIiwiaGFuZGxlU2l6ZSIsImhhbmRsZVNpemVTY2FsZWQiLCJoYW5kbGUiLCJhYnMiLCJpc0luc2lkZSIsImN1cnJlbnRUYXJnZXQiLCJIVE1MRWxlbWVudCIsInNldFBvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJoYW5kbGVQb2ludGVyTW92ZSIsImN1cnJlbnRJbWdQb3MiLCJkZWx0YVgiLCJkZWx0YVkiLCJuZXdDcm9wIiwiaGFuZGxlUG9pbnRlclVwIiwicmVsZWFzZVBvaW50ZXJDYXB0dXJlIiwiaGFuZGxlQ3JvcCIsImFsZXJ0IiwiY3JvcHBlZEZpbGUiLCJlcnJvciIsImhhbmRsZVNlYXJjaEZ1bGwiLCJkaXYiLCJjbGFzc05hbWUiLCJnZXRDdXJzb3IiLCJjcm9wRGlzcGxheVgiLCJjcm9wRGlzcGxheVkiLCJjcm9wRGlzcGxheVdpZHRoIiwiY3JvcERpc3BsYXlIZWlnaHQiLCJoMiIsInAiLCJyZWYiLCJzdHlsZSIsIm1heEhlaWdodCIsInRvdWNoQWN0aW9uIiwidXNlclNlbGVjdCIsImFsdCIsImRyYWdnYWJsZSIsInBvaW50ZXJFdmVudHMiLCJjbGlwUGF0aCIsImN1cnNvciIsIm9uUG9pbnRlckRvd24iLCJkYXRhLWhhbmRsZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInZhcmlhbnQiLCJyb3VuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/ImageCrop.tsx\n"));

/***/ })

});